{"version":3,"file":"js/global.3008f653667563ffea0e.bundle.min.js","sources":["webpack:///js/global.3008f653667563ffea0e.bundle.min.js"],"sourcesContent":["(function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&'object'==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,'default',{enumerable:!0,value:e}),2&n&&'string'!=typeof e)for(var a in e)t.d(r,a,function(t){return e[t]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='/build/',t(t.s=10)})([function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(){},function(e,t,n){'use strict';function r(e){return Object.keys(e).reduce(function(t,n){return t[n]='.'.concat(e[n]),t},{})}function a(e){if(Array.isArray(e))return e;let t=[];return e instanceof HTMLElement?t=Array(e):e instanceof NodeList&&(t=Array.prototype.slice.call(e,0)),t}function o(e){const t=Array.isArray(e)?e:a(e);t.forEach((e)=>{e.removeAttribute('tabindex')})}function i(e){const t=Array.isArray(e)?e:a(e);t.forEach((e)=>{e.setAttribute('tabindex','-1')})}function l(e,t){const n=Array.isArray(t)?t:a(t),r=Array.isArray(e)?e:a(e);if(o(n),0<r.length){const e=r.filter((e)=>!n.includes(e));i(e)}}function d(e=36){const[,t]=Math.random().toString(e).split('.');return`id_${t}`}function s(e){null!==e&&''===e.id&&e.setAttribute('id',d())}function c(e,t){return void 0!==e&&null!==e&&e instanceof t}function u(e,t,n,r){const{next:a,previous:o}=r,i=n.indexOf(t),l=n.length-1;let d=e===o?i-1:i+1;return o===e&&0>d&&(d=l),a===e&&l<d&&(d=0),n[d]}function p(e,t,n){const{UP:r,DOWN:a}=E;return u(e,t,n,{previous:r,next:a})}function b(e,t,n){const{LEFT:r,RIGHT:a}=E;return u(e,t,n,{previous:r,next:a})}function m(e){const t=document.querySelectorAll(e.join());return e.length===t.length}function h(e){m(e)||console.warn('Some or all elements referenced by `aria-describedby` attributes are missing')}n.r(t);var g=n(0),v=n(1);class f{constructor(){this.componentName='',this.state={},this.searchString='',this.setState=this.setState.bind(this),this.getState=this.getState.bind(this),this.setSelfReference=this.setSelfReference.bind(this)}setState(e){Object.assign(this.state,e),void 0!==this.stateWasUpdated&&this.stateWasUpdated(this.state)}setSelfReference(e){[...e].forEach((e)=>{Object.defineProperty(e,this.componentName,{value:this,configurable:!0})})}getState(){return this.state}}const y=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40});var E=y,S=function(e){const t=e.querySelectorAll('a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^=\"-\"])');return Array.prototype.slice.call(t)};class A extends f{constructor(e){super(e),this.componentName='popup';Object.assign(this,{controller:null,target:null,type:'true',onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}},e),this.state={expanded:!1},this.init=this.init.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.controllerClickHandler=this.controllerClickHandler.bind(this),this.controllerKeyDownHandler=this.controllerKeyDownHandler.bind(this),this.targetKeyDownHandler=this.targetKeyDownHandler.bind(this),this.hideOnTabOut=this.hideOnTabOut.bind(this),this.hideOnOutsideClick=this.hideOnOutsideClick.bind(this),this.destroy=this.destroy.bind(this),null!==this.controller&&null!==this.target&&this.init()}init(){if(super.setSelfReference([this.controller,this.target]),this.interactiveChildElements=S(this.target),0<this.interactiveChildElements.length){const[e]=this.interactiveChildElements,t=this.interactiveChildElements[this.interactiveChildElements.length-1];Object.assign(this,{firstChild:e,lastChild:t})}s(this.target),this.controller.setAttribute('aria-haspopup',this.type),this.controller.setAttribute('aria-expanded','false'),this.controller.setAttribute('aria-controls',this.target.id),s(this.controller),'BUTTON'!==this.controller.nodeName&&null===this.controller.getAttribute('role')&&(this.controller.setAttribute('role','button'),this.controller.setAttribute('tabindex','0')),this.target!==this.controller.nextElementSibling&&this.controller.setAttribute('aria-owns',this.target.id),this.target.setAttribute('aria-hidden','true'),this.controller.addEventListener('click',this.controllerClickHandler),this.controller.addEventListener('keydown',this.controllerKeyDownHandler),this.target.addEventListener('keydown',this.targetKeyDownHandler),document.body.addEventListener('click',this.hideOnOutsideClick),this.onInit.call(this)}stateWasUpdated({expanded:e}){this.controller.setAttribute('aria-expanded',`${e}`),e?(this.target.removeAttribute('aria-hidden'),o(this.interactiveChildElements)):(this.target.setAttribute('aria-hidden','true'),i(this.interactiveChildElements)),this.onStateChange.call(this,this.state)}controllerKeyDownHandler(e){const{expanded:t}=this.state,{ESC:n,TAB:r,SPACE:a,RETURN:o}=E,{keyCode:i}=e;[a,o].includes(i)?this.controllerClickHandler(e):t&&(n===i?(e.preventDefault(),this.hide()):r===i&&(e.preventDefault(),this.firstChild.focus()))}targetKeyDownHandler(e){const{ESC:t,TAB:n}=E,{keyCode:r,shiftKey:a}=e,{expanded:o}=this.state,{activeElement:i}=document;t===r&&o?(e.preventDefault(),this.hide(),this.controller.focus()):n===r&&(a&&[this.firstChild,this.target].includes(i)?(e.preventDefault(),this.controller.focus()):this.lastChild===i&&this.hide())}controllerClickHandler(e){e.preventDefault();const{expanded:t}=this.state;this.setState({expanded:!t})}hideOnTabOut(e){const{expanded:t}=this.state,{TAB:n}=E,{keyCode:r,shiftKey:a}=e;n===r&&!a&&t&&this.hide()}hideOnOutsideClick(e){const{expanded:t}=this.state,{target:n}=e;t&&n!==this.controller&&!this.target.contains(n)&&this.hide()}destroy(){delete this.controller.popup,delete this.target.popup,this.controller.removeAttribute('aria-haspopup'),this.controller.removeAttribute('aria-expanded'),this.controller.removeAttribute('aria-controls'),this.controller.removeAttribute('aria-owns'),this.target.removeAttribute('aria-hidden'),this.controller.removeEventListener('click',this.controllerClickHandler),this.controller.removeEventListener('keydown',this.controllerKeyDownHandler),this.target.removeEventListener('keydown',this.targetKeyDownHandler),document.body.removeEventListener('click',this.hideOnOutsideClick),this.state={expanded:!1},this.onDestroy.call(this)}show(){this.setState({expanded:!0})}hide(){this.setState({expanded:!1})}}class C{constructor(e){switch(this.searchString='',this.clearSearch=null,!0){case Array.isArray(e):{this.items=e;break}case e instanceof NodeList:{this.items=Array.prototype.slice.call(e,0);break}case null!==e&&'UL'===e.nodeName:{this.items=Array.prototype.slice.call(e.children,0);break}default:{this.items=null;break}}}getItem(e){if(null!==this.items){const t=String.fromCharCode(e);this.searchString+=t,null!==this.clearSearch&&(clearTimeout(this.clearSearch),this.clearSearch=null),this.clearSearch=setTimeout(()=>{this.searchString='',this.clearSearch=null},500);const n=this.items.filter((e)=>{const t=e.textContent.toLowerCase();return 0===t.indexOf(this.searchString.toLowerCase())});return n.length?n[0]:null}return null}}class x extends f{static getHelpIds(){return['#ac-describe-submenu-help','#ac-describe-esc-help','#ac-describe-submenu-explore','#ac-describe-submenu-back']}static nextElementIsUl(e){const t=e.nextElementSibling;return!(null===t||'UL'!==t.nodeName)&&t}constructor(e){super(e),this.componentName='menu';Object.assign(this,{menu:null,onInit:()=>{},onDestroy:()=>{}},e),this.handleListKeydown=this.handleListKeydown.bind(this),this.destroy=this.destroy.bind(this),null!==this.menu&&'UL'===this.menu.nodeName&&this.init()}init(){super.setSelfReference([this.menu]),this.menu.setAttribute('role','menu'),this.listItems=Array.prototype.slice.call(this.menu.children),this.menuItems=this.listItems.reduce((e,t)=>{const n=t.firstElementChild;return null!==n&&'A'===n.nodeName?[...e,n]:e},[]),this.search=new C(this.menuItems),this.menuItemsLength=this.menuItems.length,this.menu.addEventListener('keydown',this.handleListKeydown),h(x.getHelpIds()),this.menuItems.forEach((e,t)=>{e.parentElement.setAttribute('role','presentation'),e.setAttribute('role','menuitem'),e.setAttribute('aria-describedby','ac-describe-submenu-explore ac-describe-submenu-help ac-describe-submenu-back ac-describe-esc-help'),e.setAttribute('aria-setsize',this.menuItemsLength),e.setAttribute('aria-posinset',t+1);const n=this.constructor.nextElementIsUl(e);if(n){const t=new x({menu:n});t.previousSibling=e}});const[e]=this.menuItems,t=this.menuItems[this.menuItems.length-1];Object.assign(this,{firstItem:e,lastItem:t}),this.onInit.call(this)}handleListKeydown(e){const{keyCode:t}=e,{UP:n,DOWN:r,LEFT:a,RIGHT:o,HOME:i,END:l,ESC:d}=E,{activeElement:s}=document,u=this.menu.contains(s)?s:this.menuItems[0];switch(t){case n:case r:{const n=p(t,u,this.menuItems);n&&(e.stopPropagation(),e.preventDefault(),n.focus());break}case i:{e.preventDefault(),this.firstItem.focus();break}case l:{e.preventDefault(),this.lastItem.focus();break}case o:{const t=this.constructor.nextElementIsUl(u);if(t&&c(t.menu,x)){e.stopPropagation(),e.preventDefault();const{menu:n}=t;n.firstItem.focus()}break}case a:{void 0===this.previousSibling||this.previousSibling.hasAttribute('aria-haspopup')||(e.preventDefault(),e.stopPropagation(),this.previousSibling.focus());break}case d:break;default:{e.stopPropagation();const n=this.search.getItem(t);null!==n&&n.focus();break}}}destroy(){delete this.menu.menu,this.menuItems.forEach((e)=>{e.parentElement.removeAttribute('role'),e.removeAttribute('role'),e.removeAttribute('aria-describedby'),e.removeAttribute('aria-setsize'),e.removeAttribute('aria-posinset'),e.removeEventListener('keydown',this.handleListKeydown);const t=this.constructor.nextElementIsUl(e);t&&c(t.menu,x)&&t.menu.destroy()}),this.onDestroy.call(this)}}class I extends f{constructor(e){super(e),this.componentName='disclosure';Object.assign(this,{controller:null,target:null,loadOpen:!1,allowOutsideClick:!0,onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}},e),this.state={expanded:this.loadOpen},this.init=this.init.bind(this),this.destroy=this.destroy.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this),this.handleControllerKeydown=this.handleControllerKeydown.bind(this),this.toggleExpandedState=this.toggleExpandedState.bind(this),this.closeOnOutsideClick=this.closeOnOutsideClick.bind(this),null!==this.controller&&null!==this.target&&this.init()}init(){super.setSelfReference([this.controller,this.target]);const{expanded:e}=this.state;this.interactiveChildElements=S(this.target),[this.controller,this.target].forEach((e)=>{s(e)}),this.controller.setAttribute('aria-expanded',`${e}`),this.controller.setAttribute('aria-controls',this.target.id),'BUTTON'!==this.controller.nodeName&&(this.controller.setAttribute('role','button'),'A'!==this.controller.nodeName&&null===this.controller.getAttribute('tabindex')&&this.controller.setAttribute('tabindex','0')),this.target!==this.controller.nextElementSibling&&this.controller.setAttribute('aria-owns',this.target.id),e||this.target.setAttribute('aria-hidden','true'),this.controller.addEventListener('click',this.toggleExpandedState),this.controller.addEventListener('keydown',this.handleControllerKeydown),this.allowOutsideClick||document.body.addEventListener('click',this.closeOnOutsideClick),i(this.interactiveChildElements),this.onInit.call(this)}stateWasUpdated({expanded:e}){this.controller.setAttribute('aria-expanded',`${e}`),e?this.target.removeAttribute('aria-hidden'):this.target.setAttribute('aria-hidden','true'),e?o(this.interactiveChildElements):i(this.interactiveChildElements),this.onStateChange.call(this,this.state)}handleControllerKeydown(e){const{SPACE:t,RETURN:n}=E,{keyCode:r}=e;[t,n].includes(r)&&this.toggleExpandedState(e)}toggleExpandedState(e){e.preventDefault(),this.state.expanded?this.close():this.open()}closeOnOutsideClick(e){this.state.expanded&&e.target!==this.controller&&!this.target.contains(e.target)&&this.close()}destroy(){delete this.controller.disclosure,delete this.target.disclosure,this.controller.removeAttribute('aria-expanded'),this.controller.removeAttribute('aria-controls'),this.controller.removeAttribute('aria-owns'),this.controller.removeAttribute('tabindex'),this.target.removeAttribute('aria-hidden'),this.controller.removeEventListener('click',this.toggleExpandedState),document.body.removeEventListener('click',this.closeOnOutsideClick),this.state={expanded:this.loadOpen},this.onDestroy.call(this)}open(){this.setState({expanded:!0})}close(){this.setState({expanded:!1})}}class w extends f{static createCloseButton(){const e=document.createElement('button');return e.innerText='Close',e}constructor(e){super(e),this.componentName='dialog';const t={controller:null,target:null,content:null,close:this.constructor.createCloseButton(),onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}};Object.assign(this,t,e),void 0===e.close&&null!==this.target&&this.target.insertBefore(this.close,this.target.firstChild),this.onPopupStateChange=this.onPopupStateChange.bind(this),this.handleTargetKeydown=this.handleTargetKeydown.bind(this),this.handleKeydownEsc=this.handleKeydownEsc.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.destroy=this.destroy.bind(this),null===this.controller||null===this.target||null===this.content||this.content.contains(this.target)||this.init()}init(){super.setSelfReference([this.controller,this.target]),this.popup=new A({controller:this.controller,target:this.target,type:'dialog',onStateChange:this.onPopupStateChange}),this.interactiveChildren=S(this.target),this.close.addEventListener('click',this.hide),this.target.addEventListener('keydown',this.handleTargetKeydown),this.popup.target.removeEventListener('keydown',this.popup.targetKeyDownHandler),this.onInit.call(this)}onPopupStateChange({expanded:e}){this.interactiveChildren=S(this.target),e?(this.content.setAttribute('aria-hidden','true'),document.body.addEventListener('keydown',this.handleKeydownEsc),this.close.focus()):(this.content.removeAttribute('aria-hidden'),document.body.removeEventListener('keydown',this.handleKeydownEsc),this.controller.focus()),this.onStateChange.call(this,this.state)}outsideClick(e){const{expanded:t}=this.popup.getState();t&&!this.target.contains(e.target)&&this.hide()}handleTargetKeydown(e){const{TAB:t}=E,{keyCode:n,shiftKey:r}=e;if(this.popup.getState().expanded&&n===t){const{activeElement:t}=document,n=this.interactiveChildren.length-1,[a]=this.interactiveChildren,o=this.interactiveChildren[n];r&&a===t?(e.preventDefault(),o.focus()):!r&&o===t&&(e.preventDefault(),a.focus())}}handleKeydownEsc(e){const{ESC:t}=E,{keyCode:n}=e;t===n&&this.hide()}destroy(){delete this.controller.dialog,delete this.target.dialog,this.popup.destroy(),this.close.removeEventListener('click',this.hide),this.target.removeEventListener('keydown',this.handleTargetKeydown),this.onDestroy.call(this)}show(){this.popup.show()}hide(){this.popup.hide()}}var k=n(2),D=r(siteClassNames.popup),L=D.button,T=D.info,O=document.querySelector(L),K=document.querySelector(T),N=new A({controller:O,target:K}),B=n(3),P=r(siteClassNames.tablist),U=P.list,H=P.panel,R=document.querySelector(U),q=document.querySelectorAll(H),W=new class extends f{constructor(e){if(super(),'UL'!==e.tablist.nodeName)return void console.warn('Tablist requires a <ul> for the tabs.');this.componentName='tablist';Object.assign(this,{tablist:null,panels:null,onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}},e),this.state={activeIndex:0},this.handlePanelKeydown=this.handlePanelKeydown.bind(this),this.handleTabsKeydown=this.handleTabsKeydown.bind(this),this.handleTabsClick=this.handleTabsClick.bind(this),this.switchTo=this.switchTo.bind(this),this.destroy=this.destroy.bind(this),Array.isArray(this.panels)||(this.panels=Array.prototype.slice.call(this.panels)),this.tabs=Array.prototype.filter.call(this.tablist.children,(e)=>null!==e.querySelector('a[href]')).map((e)=>e.querySelector('a[href]')),this.tabs.length===this.panels.length&&this.init()}init(){const{activeIndex:e}=this.state;this.tablist.setAttribute('role','tablist'),Array.prototype.forEach.call(this.tablist.children,(e)=>{'LI'===e.nodeName&&e.setAttribute('role','presentation')}),this.tabs.forEach((t,n)=>{super.setSelfReference([t]),s(t),t.setAttribute('role','tab'),e===n?t.setAttribute('aria-selected','true'):t.setAttribute('tabindex','-1'),t.setAttribute('aria-controls',this.panels[n].id)}),this.tablist.addEventListener('click',this.handleTabsClick),this.tablist.addEventListener('keydown',this.handleTabsKeydown),this.panels.forEach((t,n)=>{super.setSelfReference([t]),s(t),t.setAttribute('role','tabpanel'),t.setAttribute('aria-labelledby',this.tabs[n].id),e===n?t.setAttribute('tabindex','0'):t.setAttribute('aria-hidden','true'),t.addEventListener('keydown',this.handlePanelKeydown)}),this.interactiveChildren=S(this.panels[e]),this.onInit.call(this)}stateWasUpdated({activeIndex:e}){const[t]=this.tabs.filter((e)=>'true'===e.getAttribute('aria-selected')),n=this.tabs.indexOf(t);t.setAttribute('tabindex','-1'),t.removeAttribute('aria-selected'),this.panels[n].setAttribute('aria-hidden','true'),this.panels[n].removeAttribute('tabindex');const r=S(this.panels[n]);i(r),this.tabs[e].removeAttribute('tabindex'),this.tabs[e].setAttribute('aria-selected','true'),this.panels[e].removeAttribute('aria-hidden'),this.panels[e].setAttribute('tabindex','0'),this.interactiveChildren=S(this.panels[e]),o(this.interactiveChildren),this.onStateChange.call(this,this.state)}handlePanelKeydown(e){const{TAB:t}=E,{activeIndex:n}=this.state,{keyCode:r,shiftKey:a}=e,{activeElement:o}=document,[i]=this.interactiveChildren;r===t&&a&&(o===this.panels[n]?(e.preventDefault(),this.tabs[n].focus()):o===i&&(e.preventDefault(),this.panels[n].focus()))}handleTabsKeydown(e){const{TAB:t,LEFT:n,RIGHT:r,DOWN:a,HOME:o,END:i}=E,{keyCode:l,shiftKey:d,target:s}=e,c=this.tabs.indexOf(s);switch(l){case t:{d||(e.preventDefault(),this.panels[c].focus());break}case n:case r:{const t=b(l,s,this.tabs);t&&(e.preventDefault(),this.switchTo(this.tabs.indexOf(t)),t.focus());break}case a:{e.preventDefault(),this.panels[c].setAttribute('tabindex','0'),this.panels[c].focus();break}case o:{e.preventDefault(),this.switchTo(0),this.tabs[0].focus();break}case i:{e.preventDefault();const t=this.tabs.length-1;this.switchTo(t),this.tabs[t].focus();break}default:}}handleTabsClick(e){const{target:t}=e;e.preventDefault(),'true'!==t.getAttribute('aria-selected')&&this.tabs.includes(t)&&this.switchTo(this.tabs.indexOf(t))}switchTo(e){this.setState({activeIndex:e})}destroy(){this.tablist.removeAttribute('role'),Array.prototype.forEach.call(this.tablist.children,(e)=>{'LI'===e.nodeName&&e.removeAttribute('role')}),this.tabs.forEach((e)=>{delete e.tablist,e.removeAttribute('role'),e.removeAttribute('aria-selected'),e.removeAttribute('tabindex'),e.removeAttribute('aria-controls'),e.removeEventListener('click',this.handleTabsClick),e.removeEventListener('keydown',this.handleTabsKeydown)}),this.panels.forEach((e)=>{delete e.tablist,e.removeAttribute('role'),e.removeAttribute('aria-hidden'),e.removeAttribute('tabindex');const t=S(e);o(t),e.removeEventListener('keydown',this.handlePanelKeydown)}),this.onDestroy.call(this)}}({tablist:R,panels:q}),M=n(4),F=r(siteClassNames.listbox),_=F.button,z=F.list,G=document.querySelector(_),j=document.querySelector(z),V=new class extends f{constructor(e){super(e),this.componentName='listbox';Object.assign(this,{controller:null,target:null,onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}},e),this.preventWindowScroll=this.preventWindowScroll.bind(this),this.handleControllerKeyup=this.handleControllerKeyup.bind(this),this.handleTargetKeydown=this.handleTargetKeydown.bind(this),this.handleTargetClicks=this.handleTargetClicks.bind(this),this.handleTargetBlur=this.handleTargetBlur.bind(this),this.scrollOptionIntoView=this.scrollOptionIntoView.bind(this),this.popupStateWasUpdated=this.popupStateWasUpdated.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.setSelfReference([this.controller,this.target]),this.options=Array.prototype.slice.call(this.target.children,0),this.search=new C(this.options),this.options.forEach((e)=>{s(e),e.setAttribute('role','option')});const[e]=this.options,t=this.options[this.options.length-1];Object.assign(this,{firstOption:e,lastOption:t}),this.state={activeDescendant:this.firstOption},this.popup=new A({controller:this.controller,target:this.target,type:'listbox',onStateChange:this.popupStateWasUpdated}),this.target.setAttribute('role','listbox'),this.target.setAttribute('tabindex','-1'),this.controller.addEventListener('keydown',this.handleControllerKeyup),this.target.addEventListener('keydown',this.handleTargetKeydown),this.target.addEventListener('click',this.handleTargetClicks),this.target.addEventListener('blur',this.handleTargetBlur),window.addEventListener('keydown',this.preventWindowScroll),this.onInit.call(this)}stateWasUpdated({activeDescendant:e}){const t=this.target.querySelector('[aria-selected=\"true\"]');null!==t&&t.removeAttribute('aria-selected'),e.setAttribute('aria-selected','true'),this.target.setAttribute('aria-activedescendant',e.id),this.scrollOptionIntoView(e),this.onStateChange.call(this,this.state)}popupStateWasUpdated({expanded:e}){const{activeDescendant:t}=this.state;e?(this.setState({activeDescendant:t}),this.target.focus()):(this.target.removeAttribute('aria-activedescendant'),this.controller.textContent=t.textContent,this.target.contains(document.activeElement)&&this.controller.focus())}preventWindowScroll(e){const{UP:t,DOWN:n}=E,{target:r,keyCode:a}=e;r===this.target&&[t,n].includes(a)&&e.preventDefault()}handleControllerKeyup(e){const{UP:t,DOWN:n}=E;[t,n].includes(e.keyCode)&&(e.preventDefault(),this.show())}handleTargetKeydown(e){const{activeDescendant:t}=this.state,{keyCode:n}=e,{RETURN:r,ESC:a,UP:o,DOWN:i,SPACE:l,HOME:d,END:s}=E;switch(n){case a:case r:case l:{e.preventDefault(),this.hide(),this.controller.focus();break}case o:case i:{let r=t;r=n===o?r.previousElementSibling:r.nextElementSibling,r&&(e.preventDefault(),this.setState({activeDescendant:r}));break}case d:{e.preventDefault(),this.setState({activeDescendant:this.firstOption});break}case s:{e.preventDefault(),this.setState({activeDescendant:this.lastOption});break}default:{const e=this.search.getItem(n);null!==e&&this.setState({activeDescendant:e});break}}}handleTargetClicks(e){this.setState({activeDescendant:e.target}),this.hide()}handleTargetBlur(){this.popup.getState().expanded&&this.hide()}scrollOptionIntoView(e){const{scrollHeight:t,clientHeight:n,scrollTop:r}=this.target,{offsetTop:a,offsetHeight:o}=e;if(t>n){const e=a+o;e>n+r?this.target.scrollTop=e-n:a<r&&(this.target.scrollTop=a)}}destroy(){delete this.controller.listbox,delete this.target.listbox,this.options.forEach((e)=>{e.removeAttribute('role')}),this.popup.destroy(),this.target.removeAttribute('role'),this.target.removeAttribute('tabindex'),this.controller.removeEventListener('keyup',this.handleControllerKeyup),this.target.removeEventListener('keydown',this.handleTargetKeydown),this.target.removeEventListener('click',this.handleTargetClicks),this.target.removeEventListener('blur',this.handleTargetBlur),window.removeEventListener('keydown',this.preventWindowScroll),this.onDestroy.call(this)}show(){this.popup.show()}hide(){this.popup.hide()}}({controller:G,target:j}),Q=n(5),X=r(siteClassNames.menu),Y=X.list,Z=document.querySelector(Y),$=new x({menu:Z}),J=n(6),ee=r(siteClassNames.dialog),te=ee.link,ne=ee.closeButton;window.addEventListener('load',function(){var e=document.querySelector(te),t=document.getElementById('dialog'),n=document.querySelector(ne),r=document.querySelector('.site'),a=new w({controller:e,target:t,close:n,content:r})});var re=n(7),ae=r(siteClassNames.menubar),oe=ae.list,ie=document.querySelector(oe),le=new class extends f{static getPopupFromMenubarItem(e){return!!c(e.popup,A)&&e.popup}static getHelpIds(){return['#ac-describe-top-level-help','#ac-describe-submenu-help','#ac-describe-esc-help']}constructor(e){super(e),this.componentName='menuBar';Object.assign(this,{menu:null,onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{},onPopupInit:()=>{},onPopupStateChange:()=>{},onPopupDestroy:()=>{}},e),this.handleMenuBarKeydown=this.handleMenuBarKeydown.bind(this),this.handleMenuBarClick=this.handleMenuBarClick.bind(this),this.handleMenuItemKeydown=this.handleMenuItemKeydown.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.destroy=this.destroy.bind(this),null!==this.menu&&'UL'===this.menu.nodeName&&this.init()}init(){super.setSelfReference([this.menu]),this.menu.setAttribute('role','menubar'),this.menuBarChildren=Array.prototype.slice.call(this.menu.children),this.menuBarItems=this.menuBarChildren.reduce((e,t)=>{const n=t.firstElementChild;return null!==n&&'A'===n.nodeName?[...e,n]:e},[]),this.search=new C(this.menuBarItems),this.menuLength=this.menuBarItems.length,h(x.getHelpIds()),this.menuBarItems.forEach((e,t)=>{e.setAttribute('role','menuitem'),e.setAttribute('aria-describedby','ac-describe-top-level-help ac-describe-submenu-help ac-describe-esc-help'),e.setAttribute('aria-setsize',this.menuLength),e.setAttribute('aria-posinset',t+1),e.parentElement.setAttribute('role','presentation'),e.parentElement.addEventListener('keydown',this.handleMenuBarKeydown),e.addEventListener('click',this.handleMenuBarClick)}),this.lastIndex=this.menuLength-1,this.clickEvent=new MouseEvent('click',{view:window,bubbles:!0,cancelable:!0}),this.popups=this.menuBarItems.reduce((e,t)=>{const n=t.nextElementSibling;if(null!==n&&'UL'===n.nodeName){const r=new A({controller:t,target:n,onStateChange:this.onPopupStateChange,onInit:this.onPopupInit,onDestroy:this.onPopupDestroy,type:'menu'}),a=new x({menu:n});return n.addEventListener('keydown',this.handleMenuItemKeydown),a.previousSibling=t,[...e,r]}return e},[]);const[e]=this.menuBarItems;this.state={menubarItem:e,popup:this.constructor.getPopupFromMenubarItem(e)},l(this.menuBarItems,e),this.onInit.call(this)}stateWasUpdated({menubarItem:e}){const t=this.constructor.getPopupFromMenubarItem(e);Object.assign(this.state,{popup:t}),l(this.menuBarItems,e),e.focus(),this.onStateChange.call(this,this.state)}handleMenuBarKeydown(e){const{LEFT:t,RIGHT:n,DOWN:r,HOME:a,END:o,SPACE:i,RETURN:l}=E,{keyCode:d}=e,{menubarItem:s,popup:c}=this.state;switch(d){case t:case n:{const t=b(d,s,this.menuBarItems);t&&(e.stopPropagation(),e.preventDefault(),c&&c.setState({expanded:!1}),this.setState({menubarItem:t}));break}case i:case l:case r:{c&&(e.stopPropagation(),e.preventDefault(),!c.state.expanded&&c.setState({expanded:!0}),c.firstChild.focus());break}case a:{e.preventDefault();const[t]=this.menuBarItems;this.setState({menubarItem:t});break}case o:{e.preventDefault(),this.setState({menubarItem:this.menuBarItems[this.lastIndex]});break}default:{const e=this.search.getItem(d);null!==e&&this.setState({menubarItem:e});break}}}handleMenuBarClick(e){this.setState({menubarItem:e.target})}handleMenuItemKeydown(e){const{SPACE:t,RETURN:n}=E,{keyCode:r,target:a}=e;[t,n].includes(r)&&'A'===a.nodeName&&(e.stopPropagation(),e.preventDefault(),a.dispatchEvent(this.clickEvent))}destroy(){delete this.menu.menuBar,this.menu.removeAttribute('role'),this.menuBarItems.forEach((e)=>{e.parentElement.removeAttribute('role'),e.removeAttribute('aria-describedby'),e.removeAttribute('aria-setsize'),e.removeAttribute('aria-posinset'),e.removeAttribute('role'),e.parentElement.removeEventListener('keydown',this.handleMenuBarKeydown),e.removeEventListener('click',this.handleMenuBarClick)}),this.popups.forEach((e)=>{c(e.target.menu,x)&&e.target.menu.destroy(),e.destroy()}),o(this.menuBarItems),this.onDestroy.call(this)}}({menu:ie}),de=n(8),se=r(siteClassNames.disclosure),ce=se.button,ue=se.info,pe=document.querySelectorAll(ce),be=document.querySelectorAll(ue);if(pe.length===be.length)Array.prototype.map.call(pe,function(e,t){return new I({controller:e,target:be[t]})});var me=n(9),he=r(siteClassNames.menubutton),ge=he.button,ve=he['menu-wrapper'],fe=he.menu,ye=document.querySelector(ge),Ee=document.querySelector(ve),Se=document.querySelector(fe),Ae=new class extends f{constructor(e){super(e),this.componentName='menuButton';Object.assign(this,{controller:null,target:null,list:null,onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}},e),this.handleControllerKeydown=this.handleControllerKeydown.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.destroy=this.destroy.bind(this),null!==this.controller&&null!==this.target&&this.init()}init(){this.popup=new A({controller:this.controller,target:this.target,type:'menu',onStateChange:this.onStateChange}),null!==this.list&&'UL'===this.list.nodeName?this.menu=new x({menu:this.list}):'UL'===this.target.nodeName&&(this.menu=new x({menu:this.target})),this.controller.addEventListener('keydown',this.handleControllerKeydown),this.onInit.call(this)}handleControllerKeydown(e){const{keyCode:t}=e,{RETURN:n,UP:r,DOWN:a,SPACE:o}=E;switch(t){case n:case o:case a:{e.preventDefault(),this.show(),this.menu.firstItem&&this.menu.firstItem.focus();break}case r:{e.preventDefault(),this.show(),this.menu.lastItem&&this.menu.lastItem.focus();break}default:}}destroy(){this.popup.destroy(),this.menu.destroy(),this.onDestroy.call(this)}show(){this.popup.show()}hide(){this.popup.hide()}}({controller:ye,target:Ee,list:Se})}]);"],"mappings":"AAAA","sourceRoot":""}