(()=>{"use strict";function t(t){return Object.keys(t).reduce((function(e,i){return e[i]=".".concat(t[i]),e}),{})}const e=function(t){return console.info(t.detail,"".concat(t.type))};class i{static configurationError(t){throw new Error(`Configuration error: ${t}`)}static getUniqueId(t=36){const[,e]=Math.random().toString(t).split(".");return`ac-id_${e}`}constructor(t){null!=t&&t instanceof HTMLElement||i.configurationError("The component element must be a valid HTMLElement"),this.element=t,this.stringDescription="AriaComponent",this.state={},this.searchString="",this.referenceElements=[],this.__trackedAttributes={},this._stateDispatchesOnly=!1,this.setState=this.setState.bind(this),this.getState=this.getState.bind(this),this.setSelfReference=this.setSelfReference.bind(this),this.addAttribute=this.addAttribute.bind(this),this.getTrackedAttributesFor=this.getTrackedAttributesFor.bind(this),this.updateAttribute=this.updateAttribute.bind(this),this.removeAttributes=this.removeAttributes.bind(this),this.dispatch=this.dispatch.bind(this),this.dispatchEventInit=this.dispatchEventInit.bind(this),this.dispatchEventDestroy=this.dispatchEventDestroy.bind(this),this.on=this.on.bind(this),this.off=this.off.bind(this),this.warnMenu=this.warnMenu.bind(this)}set[Symbol.toStringTag](t){this.stringDescription=t}get[Symbol.toStringTag](){return this.stringDescription}getTrackedAttributesFor(t){const e=t.id||this.constructor.getUniqueId(),{[e]:i=[]}=this.__trackedAttributes;return""===t.id&&(t.setAttribute("id",e),i.push("id")),i}addAttribute(t,e,i){if(t.hasAttribute(e)||null==i)return;const s=this.getTrackedAttributesFor(t);t.setAttribute(e,i),s.push(e),this.__trackedAttributes[t.id]=s}updateAttribute(t,e,i){const s=this.getTrackedAttributesFor(t);null==i?(t.removeAttribute(e),s.filter((t=>t!==e))):(t.setAttribute(e,i),s.push(e)),this.__trackedAttributes[t.id]=s}removeAttributes(t){this.getTrackedAttributesFor(t).forEach((e=>t.removeAttribute(e)))}dispatch(t,e){if(!this._stateDispatchesOnly||"stateChange"===t){const i=new CustomEvent(t,{bubbles:!0,composed:!0,detail:e});this.element.dispatchEvent(i)}}dispatchEventInit(){this.dispatch("init",{instance:this})}dispatchEventDestroy(){this.dispatch("destroy",{element:this.element,instance:this})}on(t,e,i={}){return this.element.addEventListener(t,e,i),this}off(t,e,i={}){return this.element.removeEventListener(t,e,i),this}setState(t){const e=Object.keys(t),i={...this.state,...t};this.state=i,"function"==typeof this.stateWasUpdated&&this.stateWasUpdated(e),this.dispatch("stateChange",{instance:this,props:e,state:this.state})}setSelfReference(...t){const e=t.map((t=>(Object.defineProperty(t,this.stringDescription.toLowerCase(),{value:this,configurable:!0}),t)));this.referenceElements=[...this.referenceElements,...e]}deleteSelfReferences(){this.referenceElements.forEach((t=>{delete t[this.stringDescription.toLowerCase()]}))}getState(){return this.state}warnMenu(){console.group(`[aria-components]: ${this.stringDescription}`),console.warn("This component is only appropriate for application-like menus and should not be used for a website navigation."),console.info("Pass `__is_application_menu: true` to quiet this warning."),console.groupEnd()}}const s=t=>{let e=null,i=null;if(t.hasAttribute("aria-controls")){const e=t.getAttribute("aria-controls");if(i=document.getElementById(e),null===i)throw new Error(`Configuration error: A target element with \`id="${e}"\` is not found`);return{controller:t,target:i}}if(t.hasAttribute("id")){const i=t.id;if(e=document.querySelector(`[aria-controls="${i}"]`),null===e)throw new Error(`Configuration error: A controlling element with \`aria-controls="${i}"\` is not found`);return{controller:e,target:t}}throw new Error("Configuration error: The element is missing the required attributes")},n=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40});const r=function(t){const e=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(","),i=t.querySelectorAll(e);return Array.from(i)};function a(t){return Array.isArray(t)?t:t instanceof HTMLElement?new Array(t):t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[]}function o(t){a(t).forEach((t=>{t.removeAttribute("tabindex")}))}function h(t){a(t).forEach((t=>{t.setAttribute("tabindex","-1")}))}function d(t,e){const i=a(e),s=a(t);if(o(i),0<s.length){h(s.filter((t=>!i.includes(t))))}}function l(t){const e=a(t),i=e.length-1,{0:s,[i]:n}=e;return[s,n]}class c extends i{constructor(t,e={}){super(t),super[Symbol.toStringTag]="Popup";const{controller:i,target:n}=s(t);this.controller=i,this.target=n;Object.assign(this,{type:"true"},e),this.state={expanded:!1},this.init=this.init.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.toggle=this.toggle.bind(this),this.popupControllerKeydown=this.popupControllerKeydown.bind(this),this.popupTargetKeydown=this.popupTargetKeydown.bind(this),this.hideOnTabOut=this.hideOnTabOut.bind(this),this.hideOnOutsideClick=this.hideOnOutsideClick.bind(this),this.destroy=this.destroy.bind(this)}init(){if(this.interactiveChildElements=r(this.target),h(this.interactiveChildElements),0<this.interactiveChildElements.length){const[t,e]=l(this.interactiveChildElements);Object.assign(this,{firstInteractiveChild:t,lastInteractiveChild:e})}this.addAttribute(this.controller,"aria-haspopup",this.type),this.addAttribute(this.controller,"aria-expanded","false"),this.controllerIsNotAButton="BUTTON"!==this.controller.nodeName&&null===this.controller.getAttribute("role"),this.controllerIsNotAButton&&(this.addAttribute(this.controller,"role","button"),this.addAttribute(this.controller,"tabindex","0")),this.target!==this.controller.nextElementSibling&&this.addAttribute(this.controller,"aria-owns",this.target.id),this.addAttribute(this.target,"aria-hidden","true"),this.controller.addEventListener("click",this.toggle),this.controller.addEventListener("keydown",this.popupControllerKeydown),this.target.addEventListener("keydown",this.popupTargetKeydown),document.body.addEventListener("click",this.hideOnOutsideClick)}stateWasUpdated(){const{expanded:t}=this.state;this.updateAttribute(this.controller,"aria-expanded",t),t?(this.updateAttribute(this.target,"aria-hidden","false"),o(this.interactiveChildElements)):(this.updateAttribute(this.target,"aria-hidden","true"),h(this.interactiveChildElements))}popupControllerKeydown(t){const{expanded:e}=this.state,{ESC:i,TAB:s,SPACE:r,RETURN:a}=n,{keyCode:o}=t;[r,a].includes(o)?(t.preventDefault(),this.toggle()):e&&(i===o?(t.preventDefault(),this.hide()):s===o&&(t.preventDefault(),this.firstInteractiveChild.focus()))}popupTargetKeydown(t){const{ESC:e,TAB:i}=n,{keyCode:s,shiftKey:r}=t,{expanded:a}=this.state,{activeElement:o}=document;e===s&&a?(t.preventDefault(),this.hide(),this.controller.focus()):i===s&&(r?[this.firstInteractiveChild,this.target].includes(o)&&(t.preventDefault(),this.controller.focus()):this.lastInteractiveChild===o&&this.hide())}hideOnTabOut(t){const{expanded:e}=this.state,{TAB:i}=n,{keyCode:s,shiftKey:r}=t;i===s&&!r&&e&&this.hide()}hideOnOutsideClick(t){const{expanded:e}=this.state,{target:i}=t;e&&i!==this.controller&&!this.target.contains(i)&&this.hide()}destroy(){this.deleteSelfReferences(),this.removeAttributes(this.controller),this.removeAttributes(this.target),o(this.interactiveChildElements),this.controller.removeEventListener("click",this.toggle),this.controller.removeEventListener("keydown",this.popupControllerKeydown),this.target.removeEventListener("keydown",this.popupTargetKeydown),document.body.removeEventListener("click",this.hideOnOutsideClick),this.state={expanded:!1}}show(){this.setState({expanded:!0})}hide(){this.setState({expanded:!1})}toggle(t){null!=t&&t.preventDefault();const{expanded:e}=this.state;this.setState({expanded:!e})}}class u{constructor(t){switch(this.searchString="",this.clearSearch=null,!0){case Array.isArray(t):this.items=t;break;case t instanceof NodeList:this.items=Array.from(t);break;case null!==t&&"UL"===t.nodeName:this.items=Array.from(t.children);break;default:this.items=null}}getItem(t){if(null!==this.items){const e=String.fromCharCode(t);this.searchString+=e,null!==this.clearSearch&&(clearTimeout(this.clearSearch),this.clearSearch=null),this.clearSearch=setTimeout((()=>{this.searchString="",this.clearSearch=null}),500);const i=this.items.filter((t=>0===t.textContent.toLowerCase().indexOf(this.searchString.toLowerCase())));return i.length?i[0]:null}return null}}class p extends i{constructor(t,e={}){super(t),this[Symbol.toStringTag]="Disclosure";const{controller:i,target:n}=s(t);this.controller=i,this.target=n;Object.assign(this,{loadOpen:!1,allowOutsideClick:!0},e),this.state={expanded:this.loadOpen},this.init=this.init.bind(this),this.destroy=this.destroy.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this),this.controllerHandleKeydown=this.controllerHandleKeydown.bind(this),this.toggleExpandedState=this.toggleExpandedState.bind(this),this.closeOnOutsideClick=this.closeOnOutsideClick.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.init()}init(){super.setSelfReference(this.controller,this.target);const{expanded:t}=this.state;this.interactiveChildElements=r(this.target),this.addAttribute(this.controller,"aria-expanded",t),"BUTTON"!==this.controller.nodeName&&(this.addAttribute(this.controller,"role","button"),"A"!==this.controller.nodeName&&this.addAttribute(this.controller,"tabindex","0")),this.target!==this.controller.nextElementSibling&&this.addAttribute(this.controller,"aria-owns",this.target.id),t||this.addAttribute(this.target,"aria-hidden","true"),this.controller.addEventListener("click",this.toggleExpandedState),this.controller.addEventListener("keydown",this.controllerHandleKeydown),this.allowOutsideClick||document.body.addEventListener("click",this.closeOnOutsideClick),h(this.interactiveChildElements),this.dispatchEventInit()}stateWasUpdated(){const{expanded:t}=this.state;this.updateAttribute(this.controller,"aria-expanded",t),t?this.updateAttribute(this.target,"aria-hidden","false"):this.updateAttribute(this.target,"aria-hidden","true"),t?o(this.interactiveChildElements):h(this.interactiveChildElements)}controllerHandleKeydown(t){const{SPACE:e,RETURN:i}=n,{keyCode:s}=t;[e,i].includes(s)&&this.toggleExpandedState(t)}toggleExpandedState(t){t.preventDefault(),this.state.expanded?this.close():this.open()}closeOnOutsideClick(t){this.state.expanded&&t.target!==this.controller&&!this.target.contains(t.target)&&this.close()}destroy(){this.deleteSelfReferences(),this.removeAttributes(this.controller),this.removeAttributes(this.target),o(this.interactiveChildElements),this.controller.removeEventListener("click",this.toggleExpandedState),this.controller.removeEventListener("keydown",this.controllerHandleKeydown),document.body.removeEventListener("click",this.closeOnOutsideClick),this.state={expanded:this.loadOpen},this.dispatchEventDestroy()}open(){this.setState({expanded:!0})}close(){this.setState({expanded:!1})}}function b(t,e){return null!=e&&null!=t&&"string"==typeof t&&e.toString().toLowerCase()===`[object ${t.toLowerCase()}]`}function m(t,e,i,s){const{next:n,previous:r}=s,a=i.indexOf(e),o=i.length-1;let h=t===r?a-1:a+1;return r===t&&0>h&&(h=o),n===t&&o<h&&(h=0),i[h]}function v(t,e,i){const{LEFT:s,RIGHT:r}=n;return m(t,e,i,{previous:s,next:r})}class g extends i{static nextElementIsUl(t){const e=t.nextElementSibling;return null!==e&&"UL"===e.nodeName&&e}constructor(t,e={}){super(t),"UL"!==t.nodeName&&i.configurationError("Expected component element nodeName to be `UL`"),this[Symbol.toStringTag]="Menu",this.list=t;Object.assign(this,{collapse:!1,itemMatches:"a,button",__is_application_menu:!1},e),this.__is_application_menu||this.warnMenu(),this.listHandleKeydown=this.listHandleKeydown.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.setSelfReference(this.list),this.addAttribute(this.list,"role","menu"),this.listItems=Array.from(this.list.children),this.menuItems=this.listItems.reduce(((t,e)=>{const[i,...s]=Array.from(e.children);let n=i;return null!==n&&n.matches("a,button")||([n]=Array.from(s).filter((t=>t.matches("a,button")))),void 0!==n&&n.matches(this.itemMatches)?[...t,n]:t}),[]),this.search=new u(this.menuItems),this.menuItemsLength=this.menuItems.length,this.list.addEventListener("keydown",this.listHandleKeydown),this.disclosures=[],this.menuItems.forEach(((t,e)=>{if(this.addAttribute(t.parentElement,"role","presentation"),this.addAttribute(t,"role","menuitem"),this.addAttribute(t,"aria-setsize",this.menuItemsLength),this.addAttribute(t,"aria-posinset",e+1),this.collapse&&t.hasAttribute("aria-controls")){const e=new p(t,{_stateDispatchesOnly:!0});this.disclosures.push(e)}const i=this.constructor.nextElementIsUl(t);if(i){new g(i,{itemMatches:this.itemMatches,_stateDispatchesOnly:!0,__is_application_menu:!0}).previousSibling=t}}));const[t,e]=l(this.menuItems);Object.assign(this,{firstItem:t,lastItem:e}),this.dispatchEventInit()}listHandleKeydown(t){const{keyCode:e}=t,{UP:i,DOWN:s,LEFT:r,RIGHT:a,HOME:o,END:h,ESC:d}=n,{activeElement:l}=document,c=this.list.contains(l)?l:this.menuItems[0];switch(e){case i:case s:{const i=function(t,e,i){const{UP:s,DOWN:r}=n;return m(t,e,i,{previous:s,next:r})}(e,c,this.menuItems);i&&(t.stopPropagation(),t.preventDefault(),i.focus());break}case o:t.preventDefault(),this.firstItem.focus();break;case h:t.preventDefault(),this.lastItem.focus();break;case a:{const e=this.constructor.nextElementIsUl(c);if(e&&b("Menu",e.menu)){t.stopPropagation(),t.preventDefault(),b("Disclosure",c.disclosure)&&c.disclosure.open();const{menu:i}=e;i.firstItem.focus()}break}case r:void 0===this.previousSibling||this.previousSibling.hasAttribute("aria-haspopup")||(t.preventDefault(),t.stopPropagation(),b("Disclosure",this.previousSibling.disclosure)&&this.previousSibling.disclosure.close(),this.previousSibling.focus());break;case d:break;default:{t.stopPropagation();const i=this.search.getItem(e);null!==i&&i.focus();break}}}destroy(){this.deleteSelfReferences(),this.removeAttributes(this.list),this.list.removeEventListener("keydown",this.listHandleKeydown),this.disclosures.forEach((t=>t.destroy())),this.menuItems.forEach((t=>{this.removeAttributes(t.parentElement),this.removeAttributes(t);const e=this.constructor.nextElementIsUl(t);e&&b("Menu",e.menu)&&e.menu.destroy()})),this.dispatchEventDestroy()}}class f extends i{constructor(t,e={}){super(t),this[Symbol.toStringTag]="Dialog";const{controller:i,target:n}=s(t);this.controller=i,this.target=n;Object.assign(this,{content:[]},e),this.setCloseButton=this.setCloseButton.bind(this),this.setInteractiveChildren=this.setInteractiveChildren.bind(this),this.controllerHandleClick=this.controllerHandleClick.bind(this),this.controllerHandleKeydown=this.controllerHandleKeydown.bind(this),this.targetHandleKeydown=this.targetHandleKeydown.bind(this),this.handleOutsideKeydown=this.handleOutsideKeydown.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.destroy=this.destroy.bind(this),this.init()}setInteractiveChildren(){this.interactiveChildElements=r(this.target);const[t,e]=l(this.interactiveChildElements);this.firstInteractiveChild=t,this.lastInteractiveChild=e}init(){0===this.content.length||void 0===this.content?this.content=Array.from(document.body.children).filter((t=>!t.contains(this.target))):this.content=a(this.content),0===this.content.length&&i.configurationError("The Dialog target should not be within the main site content");const t=this.content.length;for(let e=0;e<t;e+=1)this.addAttribute(this.content[e],this.constructor.getUniqueId());super.setSelfReference(this.controller,this.target),this.setInteractiveChildren(),h(this.interactiveChildElements),this.controllerIsNotAButton="BUTTON"!==this.controller.nodeName&&null===this.controller.getAttribute("role"),this.controllerIsNotAButton&&(this.addAttribute(this.controller,"role","button"),this.addAttribute(this.controller,"tabindex","0")),this.addAttribute(this.target,"tabindex","0"),this.addAttribute(this.target,"aria-hidden","true"),this.addAttribute(this.target,"role","dialog"),this.addAttribute(this.target,"aria-modal","true"),this.controller.addEventListener("click",this.controllerHandleClick),this.target.addEventListener("keydown",this.targetHandleKeydown),this.controllerIsNotAButton&&this.controller.addEventListener("keydown",this.controllerHandleKeydown),this.state={expanded:!1},this.dispatchEventInit()}stateWasUpdated(){const{expanded:t}=this.state,e=this.content.length;if(this.setInteractiveChildren(),t){for(let t=0;t<e;t+=1)this.updateAttribute(this.content[t],"aria-hidden","true");this.updateAttribute(this.target,"aria-hidden","false"),o(this.interactiveChildElements),document.body.addEventListener("keydown",this.handleOutsideKeydown),this.target.focus()}else{for(let t=0;t<e;t+=1)this.updateAttribute(this.content[t],"aria-hidden",null);this.updateAttribute(this.target,"aria-hidden","true"),h(this.interactiveChildElements),document.body.removeEventListener("keydown",this.handleOutsideKeydown),this.controller.focus()}}setCloseButton(t){null!=t&&(this.closeButton=t,this.closeButton.addEventListener("click",this.hide))}outsideClick(t){const{expanded:e}=this.state;e&&!this.target.contains(t.target)&&this.hide()}controllerHandleClick(t){t.preventDefault(),this.show()}controllerHandleKeydown(t){const{SPACE:e,RETURN:i}=n,{keyCode:s}=t;[e,i].includes(s)&&(t.preventDefault(),this.show())}targetHandleKeydown(t){const{TAB:e}=n,{keyCode:i,shiftKey:s}=t,{expanded:r}=this.state;if(r&&i===e){const{activeElement:e}=document;!s||this.firstInteractiveChild!==e&&this.target!==e?s||this.lastInteractiveChild!==e||(t.preventDefault(),this.firstInteractiveChild.focus()):(t.preventDefault(),this.lastInteractiveChild.focus())}}handleOutsideKeydown(t){const{ESC:e,TAB:i}=n,{keyCode:s,target:r}=t;e===s?this.hide():s!==i||this.target.contains(r)||this.firstInteractiveChild.focus()}destroy(){this.deleteSelfReferences();const t=this.content.length;for(let e=0;e<t;e+=1)this.removeAttributes(this.content[e]);this.removeAttributes(this.controller),this.removeAttributes(this.target),o(this.interactiveChildElements),this.controller.removeEventListener("click",this.controllerHandleClick),this.target.removeEventListener("keydown",this.targetHandleKeydown),document.body.removeEventListener("keydown",this.handleOutsideKeydown),this.controllerIsNotAButton&&this.controller.removeEventListener("keydown",this.controllerHandleKeydown),null!=this.closeButton&&this.closeButton.removeEventListener("click",this.hide),this.state={expanded:!1},this.dispatchEventDestroy()}show(){this.setState({expanded:!0})}hide(){this.setState({expanded:!1})}}class y extends i{constructor(t,e){super(t),"UL"!==t.nodeName&&i.configurationError("Expected component element nodeName to be `UL`"),this[Symbol.toStringTag]="Tablist",this.tabs=t,Object.assign(this,e),this.panelHandleKeydown=this.panelHandleKeydown.bind(this),this.tabsHandleKeydown=this.tabsHandleKeydown.bind(this),this.tabsHandleClick=this.tabsHandleClick.bind(this),this.switchTo=this.switchTo.bind(this),this.destroy=this.destroy.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.init()}init(){this.state={activeIndex:0};const{tabLinks:t,panels:e}=Array.from(this.tabs.children).reduce(((t,e)=>{const i=e.querySelector("a[aria-controls]");if(null===i)return t;const s=document.getElementById(i.hash.replace("#",""));return null!==s?{tabLinks:[...t.tabLinks,i],panels:[...t.panels,s]}:t}),{tabLinks:[],panels:[]});Object.assign(this,{tabLinks:t,panels:e});const{activeIndex:i}=this.state;this.addAttribute(this.tabs,"role","tablist"),Array.from(this.tabs.children).forEach((t=>{"LI"===t.nodeName&&this.addAttribute(t,"role","presentation")})),this.tabLinks.forEach(((t,e)=>{super.setSelfReference(t),this.addAttribute(t,"role","tab"),i!==e?this.addAttribute(t,"tabindex","-1"):this.addAttribute(t,"aria-selected","true")})),this.tabs.addEventListener("click",this.tabsHandleClick),this.tabs.addEventListener("keydown",this.tabsHandleKeydown),this.panels.forEach(((t,e)=>{super.setSelfReference(t),this.addAttribute(t,"role","tabpanel"),this.addAttribute(t,"aria-labelledby",this.tabLinks[e].id),i===e?(this.addAttribute(t,"tabindex","0"),this.addAttribute(t,"aria-hidden","false")):this.addAttribute(t,"aria-hidden","true"),t.addEventListener("keydown",this.panelHandleKeydown)})),this.interactiveChildElements=r(this.panels[i]),this.dispatchEventInit()}stateWasUpdated(){const{activeIndex:t}=this.state,[e]=this.tabLinks.filter((t=>"true"===t.getAttribute("aria-selected"))),i=this.tabLinks.indexOf(e);this.updateAttribute(e,"tabindex","-1"),this.updateAttribute(e,"aria-selected",null),this.updateAttribute(this.panels[i],"aria-hidden","true"),this.updateAttribute(this.panels[i],"tabindex",null);h(r(this.panels[i])),this.updateAttribute(this.tabLinks[t],"tabindex",null),this.updateAttribute(this.tabLinks[t],"aria-selected","true"),this.updateAttribute(this.panels[t],"aria-hidden","false"),this.updateAttribute(this.panels[t],"tabindex","0"),this.interactiveChildElements=r(this.panels[t]),o(this.interactiveChildElements)}panelHandleKeydown(t){const{TAB:e}=n,{activeIndex:i}=this.state,{keyCode:s,shiftKey:r}=t,{activeElement:a}=document,[o]=this.interactiveChildElements;s===e&&r&&(a===this.panels[i]?(t.preventDefault(),this.tabLinks[i].focus()):a===o&&(t.preventDefault(),this.panels[i].focus()))}tabsHandleKeydown(t){const{TAB:e,LEFT:i,RIGHT:s,DOWN:r,HOME:a,END:o}=n,{keyCode:h,shiftKey:d,target:l}=t,c=this.tabLinks.indexOf(l);switch(h){case e:d||(t.preventDefault(),this.panels[c].focus());break;case i:case s:{const e=v(h,l,this.tabLinks);e&&(t.preventDefault(),this.switchTo(this.tabLinks.indexOf(e)),e.focus());break}case r:t.preventDefault(),this.updateAttribute(this.panels[c],"tabindex","0"),this.panels[c].focus();break;case a:t.preventDefault(),this.switchTo(0),this.tabLinks[0].focus();break;case o:{t.preventDefault();const e=this.tabLinks.length-1;this.switchTo(e),this.tabLinks[e].focus();break}}}tabsHandleClick(t){const{target:e}=t;t.preventDefault(),"true"!==e.getAttribute("aria-selected")&&this.tabLinks.includes(e)&&this.switchTo(this.tabLinks.indexOf(e))}switchTo(t){this.setState({activeIndex:t})}destroy(){this.removeAttributes(this.tabs),Array.from(this.tabs.children).forEach((t=>{"LI"===t.nodeName&&this.removeAttributes(t)})),this.deleteSelfReferences(),this.tabLinks.forEach((t=>{this.removeAttributes(t),t.removeEventListener("click",this.tabsHandleClick),t.removeEventListener("keydown",this.tabsHandleKeydown)})),this.panels.forEach((t=>{this.removeAttributes(t);o(r(t)),t.removeEventListener("keydown",this.panelHandleKeydown)})),this.dispatchEventDestroy()}}var E=t(siteClassNames.popup).button,w=document.querySelector(E);w.addEventListener("init",e),w.addEventListener("stateChange",e),w.addEventListener("destroy",e),new c(w).init();var A=t(siteClassNames.tablist).list,k=document.querySelector(A),C=new y(k);function L(){var t=window.location.hash.replace("#",""),e=document.getElementById(t);if(null!==e&&e.tablist instanceof y){var i=C.panels.indexOf(e);-1<i&&(C.switchTo(i),e.scrollIntoView({behavior:"smooth"}))}}k.addEventListener("init",e),k.addEventListener("stateChange",e),k.addEventListener("destroy",e),window.addEventListener("load",L),window.addEventListener("hashchange",L);var S=t(siteClassNames.listbox).button,I=document.querySelector(S);I.addEventListener("init",e),I.addEventListener("stateChange",e),I.addEventListener("destroy",e);new class extends c{constructor(t,e={}){super(t,{...e,type:"listbox"}),this[Symbol.toStringTag]="Listbox";const{controller:i,target:n}=s(t);this.controller=i,this.target=n,Object.assign(this,e),this.preventWindowScroll=this.preventWindowScroll.bind(this),this.controllerHandleKeyup=this.controllerHandleKeyup.bind(this),this.targetHandleKeydown=this.targetHandleKeydown.bind(this),this.targetHandleClick=this.targetHandleClick.bind(this),this.targetHandleBlur=this.targetHandleBlur.bind(this),this.scrollOptionIntoView=this.scrollOptionIntoView.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.init(),super.setSelfReference(this.controller,this.target),this.options=Array.from(this.target.children),this.search=new u(this.options),this.options.forEach((t=>{this.addAttribute(t,"role","option")}));const[t,e]=l(this.options);Object.assign(this,{firstOption:t,lastOption:e}),this.state.activeDescendant=this.firstOption,this.addAttribute(this.target,"role","listbox"),this.addAttribute(this.target,"tabindex","-1"),this.controller.addEventListener("keyup",this.controllerHandleKeyup),this.target.addEventListener("keydown",this.targetHandleKeydown),this.target.addEventListener("click",this.targetHandleClick),this.target.addEventListener("blur",this.targetHandleBlur),window.addEventListener("keydown",this.preventWindowScroll),this.dispatchEventInit()}stateWasUpdated(t){const{activeDescendant:e,expanded:i}=this.state;if(t.includes("expanded")&&(super.stateWasUpdated(),i&&this.target.focus()),i){const t=this.target.querySelector('[aria-selected="true"]');null!==t&&this.updateAttribute(t,"aria-selected",null),this.updateAttribute(e,"aria-selected","true"),this.scrollOptionIntoView(e),this.updateAttribute(this.target,"aria-activedescendant",e.id)}else this.updateAttribute(this.target,"aria-activedescendant",null),this.controller.textContent=e.textContent,this.target.contains(document.activeElement)&&this.controller.focus()}preventWindowScroll(t){const{UP:e,DOWN:i}=n,{target:s,keyCode:r}=t;s===this.target&&[e,i].includes(r)&&t.preventDefault()}controllerHandleKeyup(t){const{UP:e,DOWN:i}=n;[e,i].includes(t.keyCode)&&(t.preventDefault(),this.show())}targetHandleKeydown(t){const{activeDescendant:e}=this.state,{keyCode:i}=t,{RETURN:s,UP:r,DOWN:a,SPACE:o,HOME:h,END:d}=n;switch(i){case s:case o:t.preventDefault(),this.hide(),this.controller.focus();break;case r:case a:{let s=e;s=i===r?s.previousElementSibling:s.nextElementSibling,s&&(t.preventDefault(),this.setState({activeDescendant:s}));break}case h:t.preventDefault(),this.setState({activeDescendant:this.firstOption});break;case d:t.preventDefault(),this.setState({activeDescendant:this.lastOption});break;default:{const t=this.search.getItem(i);null!==t&&this.setState({activeDescendant:t});break}}}targetHandleClick(t){this.setState({activeDescendant:t.target}),this.hide()}targetHandleBlur(){this.state.expanded&&this.hide()}scrollOptionIntoView(t){const{scrollHeight:e,clientHeight:i,scrollTop:s}=this.target,{offsetTop:n,offsetHeight:r}=t;if(e>i){const t=n+r;t>i+s?this.target.scrollTop=t-i:n<s&&(this.target.scrollTop=n)}}destroy(){super.destroy(),this.options.forEach((t=>this.removeAttributes(t))),this.removeAttributes(this.target),this.controller.removeEventListener("keyup",this.controllerHandleKeyup),this.target.removeEventListener("keydown",this.targetHandleKeydown),this.target.removeEventListener("click",this.targetHandleClick),this.target.removeEventListener("blur",this.targetHandleBlur),window.removeEventListener("keydown",this.preventWindowScroll),this.dispatchEventDestroy()}}(I);var x=t(siteClassNames.menu).list,H=document.querySelector(x);H.addEventListener("init",e),H.addEventListener("stateChange",e),H.addEventListener("destroy",e);new g(H,{collapse:!0,__is_application_menu:!0});var O=t(siteClassNames.dialog).closeButton;window.addEventListener("load",(function(){var t=document.getElementById("dialog"),i=document.querySelector(O);t.addEventListener("init",e),t.addEventListener("stateChange",e),t.addEventListener("destroy",e),new f(t).setCloseButton(i)}));var D=t(siteClassNames.menubar).list,T=document.querySelector(D);T.addEventListener("init",e),T.addEventListener("stateChange",e),T.addEventListener("destroy",e);new class extends i{static getPopupFromMenubarItem(t){return!!b("Popup",t.popup)&&t.popup}constructor(t,e={}){super(t),"UL"!==t.nodeName&&i.configurationError("Expected component element nodeName to be `UL`"),this[Symbol.toStringTag]="MenuBar",this.list=t;Object.assign(this,{itemMatches:"a,button",__is_application_menu:!1},e),this.__is_application_menu||this.warnMenu(),this.menubarHandleKeydown=this.menubarHandleKeydown.bind(this),this.menubarHandleClick=this.menubarHandleClick.bind(this),this.menuItemHandleKeydown=this.menuItemHandleKeydown.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.setSelfReference(this.list),this.addAttribute(this.list,"role","menubar"),this.menuBarChildren=Array.from(this.list.children),this.menuBarItems=this.menuBarChildren.reduce(((t,e)=>{const[i,...s]=Array.from(e.children);let n=i;return null!==n&&n.matches("a,button")||([n]=Array.from(s).filter((t=>t.matches("a,button")))),void 0!==n&&n.matches(this.itemMatches)?[...t,n]:t}),[]),this.search=new u(this.menuBarItems),this.menuLength=this.menuBarItems.length,this.menuBarItems.forEach(((t,e)=>{this.addAttribute(t,"role","menuitem"),this.addAttribute(t,"aria-setsize",this.menuLength),this.addAttribute(t,"aria-posinset",e+1),this.addAttribute(t.parentElement,"role","presentation"),t.parentElement.addEventListener("keydown",this.menubarHandleKeydown),t.addEventListener("click",this.menubarHandleClick)}));const[t,e]=l(this.menuBarItems);Object.assign(this,{firstItem:t,lastItem:e}),this.clickEvent=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});const{popups:i,subMenus:s}=this.menuBarItems.reduce(((t,e)=>{if(!e.hasAttribute("aria-controls"))return t;const i=new c(e,{type:"menu"});i.init(),t.popups.push(i);const{target:s}=i;Object.getPrototypeOf(i).setSelfReference.call(i,e,s);const n="UL"===s.nodeName?s:s.querySelector("ul");if(null===n)return t;const r=new g(n,{itemMatches:this.itemMatches,_stateDispatchesOnly:!0,__is_application_menu:!0});return s.addEventListener("keydown",this.menuItemHandleKeydown),r.previousSibling=e,t.subMenus.push(r),t}),{popups:[],subMenus:[]});Object.assign(this,{popups:i,subMenus:s}),this.state={menubarItem:this.firstItem,popup:this.constructor.getPopupFromMenubarItem(this.firstItem)},d(this.menuBarItems,this.firstItem),this.dispatchEventInit()}stateWasUpdated(){const{menubarItem:t}=this.state;this.state.popup=this.constructor.getPopupFromMenubarItem(t),d(this.menuBarItems,t),t.focus()}menubarHandleKeydown(t){const{LEFT:e,RIGHT:i,DOWN:s,HOME:r,END:a,SPACE:o,RETURN:h}=n,{keyCode:d}=t,{menubarItem:l,popup:c}=this.state;switch(d){case e:case i:{const e=v(d,l,this.menuBarItems);e&&(t.stopPropagation(),t.preventDefault(),!1!==c&&c.getState().expanded&&c.hide(),this.setState({menubarItem:e}));break}case o:case h:case s:!1!==c&&t.target===c.controller&&(t.stopPropagation(),t.preventDefault(),c.getState().expanded||c.show(),c.firstInteractiveChild.focus());break;case r:{t.preventDefault();const[e]=this.menuBarItems;this.setState({menubarItem:e});break}case a:t.preventDefault(),this.setState({menubarItem:this.lastItem});break;default:{const t=this.search.getItem(d);null!==t&&this.setState({menubarItem:t});break}}}menubarHandleClick(t){this.setState({menubarItem:t.target})}menuItemHandleKeydown(t){const{SPACE:e,RETURN:i}=n,{keyCode:s,target:r}=t;[e,i].includes(s)&&"A"===r.nodeName&&(t.stopPropagation(),t.preventDefault(),r.dispatchEvent(this.clickEvent))}destroy(){this.deleteSelfReferences(),this.removeAttributes(this.list),this.popups.forEach((t=>{t.target.removeEventListener("keydown",this.menuItemHandleKeydown),t.destroy()})),this.subMenus.forEach((t=>t.destroy())),this.menuBarItems.forEach((t=>{this.removeAttributes(t.parentElement),this.removeAttributes(t),t.parentElement.removeEventListener("keydown",this.menubarHandleKeydown),t.removeEventListener("click",this.menubarHandleClick)})),o(this.menuBarItems),this.dispatchEventDestroy()}}(T,{__is_application_menu:!0});var K=t(siteClassNames.disclosure),_=K.button,N=(K.info,document.querySelectorAll(_));Array.from(N).map((function(t){return t.addEventListener("init",e),t.addEventListener("stateChange",e),t.addEventListener("destroy",e),new p(t)}));function U(){var t=window.location.hash.replace("#",""),e=document.getElementById(t);if(null!==e&&e.disclosure instanceof p){var i=e.disclosure;i.open(),i.controller.scrollIntoView({behavior:"smooth"})}}window.addEventListener("load",U),window.addEventListener("hashchange",U);var B=t(siteClassNames.menubutton).button,R=document.querySelector(B);R.addEventListener("init",e),R.addEventListener("stateChange",e),R.addEventListener("destroy",e);new class extends c{constructor(t,e={}){super(t,{...e,type:"menu"}),this[Symbol.toStringTag]="MenuButton";Object.assign(this,{list:null,__is_application_menu:!1},e),this.__is_application_menu||this.warnMenu(),this.controllerHandleKeydown=this.controllerHandleKeydown.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.init(),super.setSelfReference(this.controller,this.target);const t={_stateDispatchesOnly:!0,__is_application_menu:!0};if(null!=this.list&&"UL"===this.list.nodeName)this.menu=new g(this.list,t);else if("UL"===this.target.nodeName)this.menu=new g(this.target,t);else{const e=this.target.querySelector("ul");this.menu=new g(e,t)}this.controller.addEventListener("keydown",this.controllerHandleKeydown),this.dispatchEventInit()}controllerHandleKeydown(t){const{keyCode:e}=t,{RETURN:i,UP:s,DOWN:r,SPACE:a}=n;if([i,a,s,r].includes(e)){t.preventDefault(),[s,r].includes(e)&&this.toggle();const{expanded:n}=this.state;n&&([i,a,r].includes(e)&&null!=this.menu.firstItem&&this.menu.firstItem.focus(),e===s&&null!=this.menu.lastItem&&this.menu.lastItem.focus())}}destroy(){super.destroy(),this.menu.destroy(),this.controller.removeEventListener("keydown",this.controllerHandleKeydown),this.dispatchEventDestroy()}}(R,{__is_application_menu:!0})})();