(()=>{"use strict";function t(t){return Object.keys(t).reduce((function(e,i){return e[i]=".".concat(t[i]),e}),{})}const e=function(t){return console.info(t.detail,"".concat(t.type))};class i{static getTargetElement(t){t.hasAttribute("aria-controls")||i.configurationError("The component element is missing the required 'aria-controls' attribute");const e=t.getAttribute("aria-controls"),s=document.getElementById(e);return null===s&&i.configurationError(`A target element with ID of '${e}' is not found`),s}static getControllingElement(t){t.hasAttribute("id")||i.configurationError("The target element is missing the required 'id' attribute");const e=t.id,s=document.querySelector(`[aria-controls="${e}"]`);return null===s&&i.configurationError(`A controlling element with \`aria-controls\` attribute of '${e}' is not found`),s}static configurationError(t){throw new Error(`Configuration error: ${t}`)}constructor(t){null!=t&&t instanceof HTMLElement||i.configurationError("The component element must be a valid HTMLElement"),this.element=t,this.stringDescription="AriaComponent",this.state={},this.searchString="",this.referenceElements=[],this._stateDispatchesOnly=!1,this.setState=this.setState.bind(this),this.getState=this.getState.bind(this),this.setSelfReference=this.setSelfReference.bind(this),this.dispatch=this.dispatch.bind(this),this.dispatchEventInit=this.dispatchEventInit.bind(this),this.dispatchEventDestroy=this.dispatchEventDestroy.bind(this),this.on=this.on.bind(this),this.off=this.off.bind(this),this.warnMenu=this.warnMenu.bind(this)}set[Symbol.toStringTag](t){this.stringDescription=t}get[Symbol.toStringTag](){return this.stringDescription}dispatch(t,e){if(!this._stateDispatchesOnly||"stateChange"===t){const i=new CustomEvent(t,{bubbles:!0,composed:!0,detail:e});this.element.dispatchEvent(i)}}dispatchEventInit(){this.dispatch("init",{instance:this})}dispatchEventDestroy(){this.dispatch("destroy",{element:this.element,instance:this})}on(t,e,i={}){return this.element.addEventListener(t,e,i),this}off(t,e,i={}){return this.element.removeEventListener(t,e,i),this}setState(t){const e=Object.keys(t),i={...this.state,...t};this.state=i,"function"==typeof this.stateWasUpdated&&this.stateWasUpdated(e),this.dispatch("stateChange",{instance:this,props:e,state:this.state})}setSelfReference(...t){const e=t.map((t=>(Object.defineProperty(t,this.stringDescription.toLowerCase(),{value:this,configurable:!0}),t)));this.referenceElements=[...this.referenceElements,...e]}deleteSelfReferences(){this.referenceElements.forEach((t=>{delete t[this.stringDescription.toLowerCase()]}))}getState(){return this.state}warnMenu(){console.group(`[aria-components]: ${this.stringDescription}`),console.warn("This component is only appropriate for application-like menus and should not be used for a website navigation."),console.info("Pass `__is_application_menu: true` to quiet this warning."),console.groupEnd()}}const s=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40});const n=function(t){const e=["a[href]","area[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'].join(","),i=t.querySelectorAll(e);return Array.from(i)};function r(t){return Array.isArray(t)?t:t instanceof HTMLElement?new Array(t):t instanceof NodeList||t instanceof HTMLCollection?Array.from(t):[]}function a(t){r(t).forEach((t=>{t.removeAttribute("tabindex")}))}function o(t){r(t).forEach((t=>{t.setAttribute("tabindex","-1")}))}function h(t,e){const i=r(e),s=r(t);if(a(i),0<s.length){o(s.filter((t=>!i.includes(t))))}}function l(t){null!==t&&""===t.id&&t.setAttribute("id",function(t=36){const[,e]=Math.random().toString(t).split(".");return`id_${e}`}())}function d(t){const e=r(t),i=e.length-1,{0:s,[i]:n}=e;return[s,n]}class c extends i{constructor(t,e={}){super(t),super[Symbol.toStringTag]="Popup",this.controller=t,this.target=super.constructor.getTargetElement(t);Object.assign(this,{type:"true",useHiddenAttribute:!0},e),this.state={expanded:!1},this.init=this.init.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.toggle=this.toggle.bind(this),this.popupControllerKeydown=this.popupControllerKeydown.bind(this),this.popupTargetKeydown=this.popupTargetKeydown.bind(this),this.hideOnTabOut=this.hideOnTabOut.bind(this),this.hideOnOutsideClick=this.hideOnOutsideClick.bind(this),this.destroy=this.destroy.bind(this)}init(){if(this.interactiveChildElements=n(this.target),o(this.interactiveChildElements),0<this.interactiveChildElements.length){const[t,e]=d(this.interactiveChildElements);Object.assign(this,{firstInteractiveChild:t,lastInteractiveChild:e})}l(this.target),this.controller.setAttribute("aria-haspopup",this.type),this.controller.setAttribute("aria-expanded","false"),l(this.controller),this.controllerIsNotAButton="BUTTON"!==this.controller.nodeName&&null===this.controller.getAttribute("role"),this.controllerIsNotAButton&&(this.controller.setAttribute("role","button"),this.controller.setAttribute("tabindex","0")),this.target!==this.controller.nextElementSibling&&this.controller.setAttribute("aria-owns",this.target.id),this.target.setAttribute("aria-hidden","true"),this.useHiddenAttribute&&this.target.setAttribute("hidden",""),this.controller.addEventListener("click",this.toggle),this.controller.addEventListener("keydown",this.popupControllerKeydown),this.target.addEventListener("keydown",this.popupTargetKeydown),document.body.addEventListener("click",this.hideOnOutsideClick)}stateWasUpdated(){const{expanded:t}=this.state;this.controller.setAttribute("aria-expanded",`${t}`),t?(this.target.setAttribute("aria-hidden","false"),this.useHiddenAttribute&&this.target.removeAttribute("hidden"),a(this.interactiveChildElements)):(this.target.setAttribute("aria-hidden","true"),this.useHiddenAttribute&&this.target.setAttribute("hidden",""),o(this.interactiveChildElements))}popupControllerKeydown(t){const{expanded:e}=this.state,{ESC:i,TAB:n,SPACE:r,RETURN:a}=s,{keyCode:o}=t;[r,a].includes(o)?(t.preventDefault(),this.toggle()):e&&(i===o?(t.preventDefault(),this.hide()):n===o&&(t.preventDefault(),this.firstInteractiveChild.focus()))}popupTargetKeydown(t){const{ESC:e,TAB:i}=s,{keyCode:n,shiftKey:r}=t,{expanded:a}=this.state,{activeElement:o}=document;e===n&&a?(t.preventDefault(),this.hide(),this.controller.focus()):i===n&&(r?[this.firstInteractiveChild,this.target].includes(o)&&(t.preventDefault(),this.controller.focus()):this.lastInteractiveChild===o&&this.hide())}hideOnTabOut(t){const{expanded:e}=this.state,{TAB:i}=s,{keyCode:n,shiftKey:r}=t;i===n&&!r&&e&&this.hide()}hideOnOutsideClick(t){const{expanded:e}=this.state,{target:i}=t;e&&i!==this.controller&&!this.target.contains(i)&&this.hide()}destroy(){this.deleteSelfReferences(),[this.controller,this.target].forEach((t=>{t.getAttribute("id").includes("id_")&&t.removeAttribute("id")})),this.controller.removeAttribute("aria-haspopup"),this.controller.removeAttribute("aria-expanded"),this.controller.removeAttribute("aria-owns"),this.controllerIsNotAButton&&(this.controller.removeAttribute("role"),this.controller.removeAttribute("tabindex")),this.target.removeAttribute("aria-hidden"),this.useHiddenAttribute&&this.target.removeAttribute("hidden"),a(this.interactiveChildElements),this.controller.removeEventListener("click",this.toggle),this.controller.removeEventListener("keydown",this.popupControllerKeydown),this.target.removeEventListener("keydown",this.popupTargetKeydown),document.body.removeEventListener("click",this.hideOnOutsideClick),this.state={expanded:!1}}show(){this.setState({expanded:!0})}hide(){this.setState({expanded:!1})}toggle(t){null!=t&&t.preventDefault();const{expanded:e}=this.state;this.setState({expanded:!e})}}class u{constructor(t){switch(this.searchString="",this.clearSearch=null,!0){case Array.isArray(t):this.items=t;break;case t instanceof NodeList:this.items=Array.from(t);break;case null!==t&&"UL"===t.nodeName:this.items=Array.from(t.children);break;default:this.items=null}}getItem(t){if(null!==this.items){const e=String.fromCharCode(t);this.searchString+=e,null!==this.clearSearch&&(clearTimeout(this.clearSearch),this.clearSearch=null),this.clearSearch=setTimeout((()=>{this.searchString="",this.clearSearch=null}),500);const i=this.items.filter((t=>0===t.textContent.toLowerCase().indexOf(this.searchString.toLowerCase())));return i.length?i[0]:null}return null}}class b extends i{constructor(t,e={}){super(t),this[Symbol.toStringTag]="Disclosure",this.controller=t,this.target=super.constructor.getTargetElement(t);Object.assign(this,{loadOpen:!1,allowOutsideClick:!0,useHiddenAttribute:!0},e),this.state={expanded:this.loadOpen},this.init=this.init.bind(this),this.destroy=this.destroy.bind(this),this.open=this.open.bind(this),this.close=this.close.bind(this),this.controllerHandleKeydown=this.controllerHandleKeydown.bind(this),this.toggleExpandedState=this.toggleExpandedState.bind(this),this.closeOnOutsideClick=this.closeOnOutsideClick.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.init()}init(){super.setSelfReference(this.controller,this.target);const{expanded:t}=this.state;this.interactiveChildElements=n(this.target),[this.controller,this.target].forEach((t=>{l(t)})),this.controller.setAttribute("aria-expanded",`${t}`),"BUTTON"!==this.controller.nodeName&&(this.controller.setAttribute("role","button"),"A"!==this.controller.nodeName&&null===this.controller.getAttribute("tabindex")&&this.controller.setAttribute("tabindex","0")),this.target!==this.controller.nextElementSibling&&this.controller.setAttribute("aria-owns",this.target.id),t||(this.target.setAttribute("aria-hidden","true"),this.useHiddenAttribute&&this.target.setAttribute("hidden","")),this.controller.addEventListener("click",this.toggleExpandedState),this.controller.addEventListener("keydown",this.controllerHandleKeydown),this.allowOutsideClick||document.body.addEventListener("click",this.closeOnOutsideClick),o(this.interactiveChildElements),this.dispatchEventInit()}stateWasUpdated(){const{expanded:t}=this.state;this.controller.setAttribute("aria-expanded",`${t}`),t?(this.target.setAttribute("aria-hidden","false"),this.useHiddenAttribute&&this.target.removeAttribute("hidden")):(this.target.setAttribute("aria-hidden","true"),this.useHiddenAttribute&&this.target.setAttribute("hidden","")),t?a(this.interactiveChildElements):o(this.interactiveChildElements)}controllerHandleKeydown(t){const{SPACE:e,RETURN:i}=s,{keyCode:n}=t;[e,i].includes(n)&&this.toggleExpandedState(t)}toggleExpandedState(t){t.preventDefault(),this.state.expanded?this.close():this.open()}closeOnOutsideClick(t){this.state.expanded&&t.target!==this.controller&&!this.target.contains(t.target)&&this.close()}destroy(){this.deleteSelfReferences(),[this.controller,this.target].forEach((t=>{t.getAttribute("id").includes("id_")&&t.removeAttribute("id")})),this.controller.removeAttribute("aria-expanded"),this.controller.removeAttribute("aria-owns"),this.controller.removeAttribute("tabindex"),"BUTTON"!==this.controller.nodeName&&this.controller.removeAttribute("role"),this.target.removeAttribute("aria-hidden"),this.useHiddenAttribute&&this.target.removeAttribute("hidden"),a(this.interactiveChildElements),this.controller.removeEventListener("click",this.toggleExpandedState),this.controller.removeEventListener("keydown",this.controllerHandleKeydown),document.body.removeEventListener("click",this.closeOnOutsideClick),this.state={expanded:this.loadOpen},this.dispatchEventDestroy()}open(){this.setState({expanded:!0})}close(){this.setState({expanded:!1})}}function m(t,e){if(null==e||null==t||"string"!=typeof t)return!1;return(e[Symbol.toStringTag]||"").toLowerCase()===t.toLowerCase()}function p(t,e,i,s){const{next:n,previous:r}=s,a=i.indexOf(e),o=i.length-1;let h=t===r?a-1:a+1;return r===t&&0>h&&(h=o),n===t&&o<h&&(h=0),i[h]}function v(t,e,i){const{LEFT:n,RIGHT:r}=s;return p(t,e,i,{previous:n,next:r})}class g extends i{static nextElementIsUl(t){const e=t.nextElementSibling;return null!==e&&"UL"===e.nodeName&&e}constructor(t,e={}){super(t),"UL"!==t.nodeName&&i.configurationError("Expected component element nodeName to be `UL`"),this[Symbol.toStringTag]="Menu",this.list=t;Object.assign(this,{collapse:!1,itemMatches:"a,button",__is_application_menu:!1},e),this.__is_application_menu||this.warnMenu(),this.listHandleKeydown=this.listHandleKeydown.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.setSelfReference(this.list),this.list.setAttribute("role","menu"),this.listItems=Array.from(this.list.children),this.menuItems=this.listItems.reduce(((t,e)=>{const[i,...s]=Array.from(e.children);let n=i;return null!==n&&n.matches("a,button")||([n]=Array.from(s).filter((t=>t.matches("a,button")))),void 0!==n&&n.matches(this.itemMatches)?[...t,n]:t}),[]),this.search=new u(this.menuItems),this.menuItemsLength=this.menuItems.length,this.list.addEventListener("keydown",this.listHandleKeydown),this.disclosures=[],this.menuItems.forEach(((t,e)=>{if(t.parentElement.setAttribute("role","presentation"),t.setAttribute("role","menuitem"),t.setAttribute("aria-setsize",this.menuItemsLength),t.setAttribute("aria-posinset",e+1),this.collapse&&t.hasAttribute("aria-controls")){const e=new b(t,{_stateDispatchesOnly:!0});this.disclosures.push(e)}const i=this.constructor.nextElementIsUl(t);if(i){new g(i,{itemMatches:this.itemMatches,_stateDispatchesOnly:!0,__is_application_menu:!0}).previousSibling=t}}));const[t,e]=d(this.menuItems);Object.assign(this,{firstItem:t,lastItem:e}),this.dispatchEventInit()}listHandleKeydown(t){const{keyCode:e}=t,{UP:i,DOWN:n,LEFT:r,RIGHT:a,HOME:o,END:h,ESC:l}=s,{activeElement:d}=document,c=this.list.contains(d)?d:this.menuItems[0];switch(e){case i:case n:{const i=function(t,e,i){const{UP:n,DOWN:r}=s;return p(t,e,i,{previous:n,next:r})}(e,c,this.menuItems);i&&(t.stopPropagation(),t.preventDefault(),i.focus());break}case o:t.preventDefault(),this.firstItem.focus();break;case h:t.preventDefault(),this.lastItem.focus();break;case a:{const e=this.constructor.nextElementIsUl(c);if(e&&m("Menu",e.menu)){t.stopPropagation(),t.preventDefault(),m("Disclosure",c.disclosure)&&c.disclosure.open();const{menu:i}=e;i.firstItem.focus()}break}case r:void 0===this.previousSibling||this.previousSibling.hasAttribute("aria-haspopup")||(t.preventDefault(),t.stopPropagation(),m("Disclosure",this.previousSibling.disclosure)&&this.previousSibling.disclosure.close(),this.previousSibling.focus());break;case l:break;default:{t.stopPropagation();const i=this.search.getItem(e);null!==i&&i.focus();break}}}destroy(){this.deleteSelfReferences(),this.list.removeAttribute("role"),this.list.removeEventListener("keydown",this.listHandleKeydown),this.menuItems.forEach((t=>{t.parentElement.removeAttribute("role"),t.removeAttribute("role"),t.removeAttribute("aria-setsize"),t.removeAttribute("aria-posinset");const e=this.constructor.nextElementIsUl(t);e&&m("Menu",e.menu)&&e.menu.destroy()})),this.disclosures.forEach((t=>{t.destroy()})),this.dispatchEventDestroy()}}class f extends i{constructor(t,e={}){super(t),this[Symbol.toStringTag]="Dialog",this.target=t,this.controller=super.constructor.getControllingElement(t);Object.assign(this,{content:[],useHiddenAttribute:!0},e),this.setCloseButton=this.setCloseButton.bind(this),this.setInteractiveChildren=this.setInteractiveChildren.bind(this),this.controllerHandleClick=this.controllerHandleClick.bind(this),this.controllerHandleKeydown=this.controllerHandleKeydown.bind(this),this.targetHandleKeydown=this.targetHandleKeydown.bind(this),this.handleOutsideKeydown=this.handleOutsideKeydown.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.destroy=this.destroy.bind(this),this.init()}setInteractiveChildren(){this.interactiveChildElements=n(this.target);const[t,e]=d(this.interactiveChildElements);this.firstInteractiveChild=t,this.lastInteractiveChild=e}init(){0===this.content.length||void 0===this.content?this.content=Array.from(document.body.children).filter((t=>!t.contains(this.target))):this.content=r(this.content),0===this.content.length&&i.configurationError("The Dialog target should not be within the main site content"),super.setSelfReference(this.controller,this.target),this.setInteractiveChildren(),o(this.interactiveChildElements),l(this.target),this.controllerIsNotAButton="BUTTON"!==this.controller.nodeName&&null===this.controller.getAttribute("role"),this.controllerIsNotAButton&&(this.controller.setAttribute("role","button"),this.controller.setAttribute("tabindex","0")),this.target.setAttribute("tabindex","0"),this.target.setAttribute("aria-hidden","true"),this.useHiddenAttribute&&this.target.setAttribute("hidden",""),this.target.setAttribute("role","dialog"),this.target.setAttribute("aria-modal","true"),this.controller.addEventListener("click",this.controllerHandleClick),this.target.addEventListener("keydown",this.targetHandleKeydown),this.controllerIsNotAButton&&this.controller.addEventListener("keydown",this.controllerHandleKeydown),this.state={expanded:!1},this.dispatchEventInit()}stateWasUpdated(){const{expanded:t}=this.state,e=this.content.length;if(this.setInteractiveChildren(),t){for(let t=0;t<e;t+=1)this.content[t].setAttribute("aria-hidden","true");this.target.setAttribute("aria-hidden","false"),this.useHiddenAttribute&&this.target.removeAttribute("hidden"),a(this.interactiveChildElements),document.body.addEventListener("keydown",this.handleOutsideKeydown),this.target.focus()}else{for(let t=0;t<e;t+=1)this.content[t].removeAttribute("aria-hidden");this.target.setAttribute("aria-hidden","true"),this.useHiddenAttribute&&this.target.setAttribute("hidden",""),o(this.interactiveChildElements),document.body.removeEventListener("keydown",this.handleOutsideKeydown),this.controller.focus()}}setCloseButton(t){null!=t&&(this.closeButton=t,this.closeButton.addEventListener("click",this.hide))}outsideClick(t){const{expanded:e}=this.state;e&&!this.target.contains(t.target)&&this.hide()}controllerHandleClick(t){t.preventDefault(),this.show()}controllerHandleKeydown(t){const{SPACE:e,RETURN:i}=s,{keyCode:n}=t;[e,i].includes(n)&&(t.preventDefault(),this.show())}targetHandleKeydown(t){const{TAB:e}=s,{keyCode:i,shiftKey:n}=t,{expanded:r}=this.state;if(r&&i===e){const{activeElement:e}=document;!n||this.firstInteractiveChild!==e&&this.target!==e?n||this.lastInteractiveChild!==e||(t.preventDefault(),this.firstInteractiveChild.focus()):(t.preventDefault(),this.lastInteractiveChild.focus())}}handleOutsideKeydown(t){const{ESC:e,TAB:i}=s,{keyCode:n,target:r}=t;e===n?this.hide():n!==i||this.target.contains(r)||this.firstInteractiveChild.focus()}destroy(){this.deleteSelfReferences();const t=this.content.length;for(let e=0;e<t;e+=1)this.content[e].removeAttribute("aria-hidden");this.controllerIsNotAButton&&(this.controller.removeAttribute("role"),this.controller.removeAttribute("tabindex")),this.target.removeAttribute("tabindex"),this.target.removeAttribute("aria-hidden"),this.useHiddenAttribute&&this.target.removeAttribute("hidden"),this.target.removeAttribute("role"),this.target.removeAttribute("aria-modal"),a(this.interactiveChildElements),this.controller.removeEventListener("click",this.controllerHandleClick),this.target.removeEventListener("keydown",this.targetHandleKeydown),document.body.removeEventListener("keydown",this.handleOutsideKeydown),this.controllerIsNotAButton&&this.controller.removeEventListener("keydown",this.controllerHandleKeydown),null!=this.closeButton&&this.closeButton.removeEventListener("click",this.hide),this.state={expanded:!1},this.dispatchEventDestroy()}show(){this.setState({expanded:!0})}hide(){this.setState({expanded:!1})}}class y extends i{constructor(t,e){super(t),"UL"!==t.nodeName&&i.configurationError("Expected component element nodeName to be `UL`"),this[Symbol.toStringTag]="Tablist",this.tabs=t,Object.assign(this,e),this.panelHandleKeydown=this.panelHandleKeydown.bind(this),this.tabsHandleKeydown=this.tabsHandleKeydown.bind(this),this.tabsHandleClick=this.tabsHandleClick.bind(this),this.switchTo=this.switchTo.bind(this),this.destroy=this.destroy.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.init()}init(){this.state={activeIndex:0};const{tabLinks:t,panels:e}=Array.from(this.tabs.children).reduce(((t,e)=>{const i=e.querySelector("a[aria-controls]");if(null===i)return t;const s=document.getElementById(i.hash.replace("#",""));return null!==s?{tabLinks:[...t.tabLinks,i],panels:[...t.panels,s]}:t}),{tabLinks:[],panels:[]});Object.assign(this,{tabLinks:t,panels:e});const{activeIndex:i}=this.state;this.tabs.setAttribute("role","tablist"),Array.from(this.tabs.children).forEach((t=>{"LI"===t.nodeName&&t.setAttribute("role","presentation")})),this.tabLinks.forEach(((t,e)=>{super.setSelfReference(t),l(t),t.setAttribute("role","tab"),i!==e?t.setAttribute("tabindex","-1"):t.setAttribute("aria-selected","true")})),this.tabs.addEventListener("click",this.tabsHandleClick),this.tabs.addEventListener("keydown",this.tabsHandleKeydown),this.panels.forEach(((t,e)=>{super.setSelfReference(t),l(t),t.setAttribute("role","tabpanel"),t.setAttribute("aria-labelledby",this.tabLinks[e].id),i===e?(t.setAttribute("tabindex","0"),t.setAttribute("aria-hidden","false"),t.removeAttribute("hidden")):(t.setAttribute("aria-hidden","true"),t.setAttribute("hidden","")),t.addEventListener("keydown",this.panelHandleKeydown)})),this.interactiveChildElements=n(this.panels[i]),this.dispatchEventInit()}stateWasUpdated(){const{activeIndex:t}=this.state,[e]=this.tabLinks.filter((t=>"true"===t.getAttribute("aria-selected"))),i=this.tabLinks.indexOf(e);e.setAttribute("tabindex","-1"),e.removeAttribute("aria-selected"),this.panels[i].setAttribute("aria-hidden","true"),this.panels[i].setAttribute("hidden",""),this.panels[i].removeAttribute("tabindex");o(n(this.panels[i])),this.tabLinks[t].removeAttribute("tabindex"),this.tabLinks[t].setAttribute("aria-selected","true"),this.panels[t].setAttribute("aria-hidden","false"),this.panels[t].removeAttribute("hidden"),this.panels[t].setAttribute("tabindex","0"),this.interactiveChildElements=n(this.panels[t]),a(this.interactiveChildElements)}panelHandleKeydown(t){const{TAB:e}=s,{activeIndex:i}=this.state,{keyCode:n,shiftKey:r}=t,{activeElement:a}=document,[o]=this.interactiveChildElements;n===e&&r&&(a===this.panels[i]?(t.preventDefault(),this.tabLinks[i].focus()):a===o&&(t.preventDefault(),this.panels[i].focus()))}tabsHandleKeydown(t){const{TAB:e,LEFT:i,RIGHT:n,DOWN:r,HOME:a,END:o}=s,{keyCode:h,shiftKey:l,target:d}=t,c=this.tabLinks.indexOf(d);switch(h){case e:l||(t.preventDefault(),this.panels[c].focus());break;case i:case n:{const e=v(h,d,this.tabLinks);e&&(t.preventDefault(),this.switchTo(this.tabLinks.indexOf(e)),e.focus());break}case r:t.preventDefault(),this.panels[c].setAttribute("tabindex","0"),this.panels[c].focus();break;case a:t.preventDefault(),this.switchTo(0),this.tabLinks[0].focus();break;case o:{t.preventDefault();const e=this.tabLinks.length-1;this.switchTo(e),this.tabLinks[e].focus();break}}}tabsHandleClick(t){const{target:e}=t;t.preventDefault(),"true"!==e.getAttribute("aria-selected")&&this.tabLinks.includes(e)&&this.switchTo(this.tabLinks.indexOf(e))}switchTo(t){this.setState({activeIndex:t})}destroy(){this.tabs.removeAttribute("role"),Array.from(this.tabs.children).forEach((t=>{"LI"===t.nodeName&&t.removeAttribute("role")})),this.deleteSelfReferences(),this.tabLinks.forEach((t=>{t.removeAttribute("role"),t.removeAttribute("aria-selected"),t.removeAttribute("tabindex"),t.removeEventListener("click",this.tabsHandleClick),t.removeEventListener("keydown",this.tabsHandleKeydown)})),this.panels.forEach((t=>{t.removeAttribute("role"),t.removeAttribute("aria-hidden"),t.removeAttribute("hidden"),t.removeAttribute("tabindex"),t.removeAttribute("aria-labelledby");a(n(t)),t.removeEventListener("keydown",this.panelHandleKeydown)})),this.dispatchEventDestroy()}}var E=t(siteClassNames.popup).button,A=document.querySelector(E);A.addEventListener("init",e),A.addEventListener("stateChange",e),A.addEventListener("destroy",e),new c(A).init();var w=t(siteClassNames.tablist).list,k=document.querySelector(w),C=new y(k);function L(){var t=window.location.hash.replace("#",""),e=document.getElementById(t);if(null!==e&&e.tablist instanceof y){var i=C.panels.indexOf(e);-1<i&&(C.switchTo(i),e.scrollIntoView({behavior:"smooth"}))}}k.addEventListener("init",e),k.addEventListener("stateChange",e),k.addEventListener("destroy",e),window.addEventListener("load",L),window.addEventListener("hashchange",L);var S=t(siteClassNames.listbox).button,I=document.querySelector(S);I.addEventListener("init",e),I.addEventListener("stateChange",e),I.addEventListener("destroy",e);new class extends c{constructor(t,e={}){super(t,{...e,type:"listbox"}),this[Symbol.toStringTag]="Listbox",this.controller=t,this.target=super.constructor.getTargetElement(t),Object.assign(this,e),this.preventWindowScroll=this.preventWindowScroll.bind(this),this.controllerHandleKeyup=this.controllerHandleKeyup.bind(this),this.targetHandleKeydown=this.targetHandleKeydown.bind(this),this.targetHandleClick=this.targetHandleClick.bind(this),this.targetHandleBlur=this.targetHandleBlur.bind(this),this.scrollOptionIntoView=this.scrollOptionIntoView.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.init(),super.setSelfReference(this.controller,this.target),this.options=Array.from(this.target.children),this.search=new u(this.options),this.options.forEach((t=>{l(t),t.setAttribute("role","option")}));const[t,e]=d(this.options);Object.assign(this,{firstOption:t,lastOption:e}),this.state.activeDescendant=this.firstOption,this.target.setAttribute("role","listbox"),this.target.setAttribute("tabindex","-1"),this.controller.addEventListener("keyup",this.controllerHandleKeyup),this.target.addEventListener("keydown",this.targetHandleKeydown),this.target.addEventListener("click",this.targetHandleClick),this.target.addEventListener("blur",this.targetHandleBlur),window.addEventListener("keydown",this.preventWindowScroll),this.dispatchEventInit()}stateWasUpdated(t){const{activeDescendant:e,expanded:i}=this.state;if(t.includes("expanded")&&(super.stateWasUpdated(),i&&this.target.focus()),i){const t=this.target.querySelector('[aria-selected="true"]');null!==t&&t.removeAttribute("aria-selected"),e.setAttribute("aria-selected","true"),this.scrollOptionIntoView(e),this.target.setAttribute("aria-activedescendant",e.id)}else this.target.removeAttribute("aria-activedescendant"),this.controller.textContent=e.textContent,this.target.contains(document.activeElement)&&this.controller.focus()}preventWindowScroll(t){const{UP:e,DOWN:i}=s,{target:n,keyCode:r}=t;n===this.target&&[e,i].includes(r)&&t.preventDefault()}controllerHandleKeyup(t){const{UP:e,DOWN:i}=s;[e,i].includes(t.keyCode)&&(t.preventDefault(),this.show())}targetHandleKeydown(t){const{activeDescendant:e}=this.state,{keyCode:i}=t,{RETURN:n,UP:r,DOWN:a,SPACE:o,HOME:h,END:l}=s;switch(i){case n:case o:t.preventDefault(),this.hide(),this.controller.focus();break;case r:case a:{let s=e;s=i===r?s.previousElementSibling:s.nextElementSibling,s&&(t.preventDefault(),this.setState({activeDescendant:s}));break}case h:t.preventDefault(),this.setState({activeDescendant:this.firstOption});break;case l:t.preventDefault(),this.setState({activeDescendant:this.lastOption});break;default:{const t=this.search.getItem(i);null!==t&&this.setState({activeDescendant:t});break}}}targetHandleClick(t){this.setState({activeDescendant:t.target}),this.hide()}targetHandleBlur(){this.state.expanded&&this.hide()}scrollOptionIntoView(t){const{scrollHeight:e,clientHeight:i,scrollTop:s}=this.target,{offsetTop:n,offsetHeight:r}=t;if(e>i){const t=n+r;t>i+s?this.target.scrollTop=t-i:n<s&&(this.target.scrollTop=n)}}destroy(){super.destroy(),this.options.forEach((t=>{t.removeAttribute("role"),t.removeAttribute("aria-selected"),t.getAttribute("id").includes("id_")&&t.removeAttribute("id")})),this.target.removeAttribute("role"),this.target.removeAttribute("tabindex"),this.target.removeAttribute("aria-activedescendant"),this.controller.removeEventListener("keyup",this.controllerHandleKeyup),this.target.removeEventListener("keydown",this.targetHandleKeydown),this.target.removeEventListener("click",this.targetHandleClick),this.target.removeEventListener("blur",this.targetHandleBlur),window.removeEventListener("keydown",this.preventWindowScroll),this.dispatchEventDestroy()}}(I);var H=t(siteClassNames.menu).list,x=document.querySelector(H);x.addEventListener("init",e),x.addEventListener("stateChange",e),x.addEventListener("destroy",e);new g(x,{collapse:!0,__is_application_menu:!0});var O=t(siteClassNames.dialog).closeButton;window.addEventListener("load",(function(){var t=document.getElementById("dialog"),i=document.querySelector(O);t.addEventListener("init",e),t.addEventListener("stateChange",e),t.addEventListener("destroy",e),new f(t,{useHiddenAttribute:!1}).setCloseButton(i)}));var D=t(siteClassNames.menubar).list,T=document.querySelector(D);T.addEventListener("init",e),T.addEventListener("stateChange",e),T.addEventListener("destroy",e);new class extends i{static getPopupFromMenubarItem(t){return!!m("Popup",t.popup)&&t.popup}constructor(t,e={}){super(t),"UL"!==t.nodeName&&i.configurationError("Expected component element nodeName to be `UL`"),this[Symbol.toStringTag]="MenuBar",this.list=t;Object.assign(this,{itemMatches:"a,button",__is_application_menu:!1},e),this.__is_application_menu||this.warnMenu(),this.menubarHandleKeydown=this.menubarHandleKeydown.bind(this),this.menubarHandleClick=this.menubarHandleClick.bind(this),this.menuItemHandleKeydown=this.menuItemHandleKeydown.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.setSelfReference(this.list),this.list.setAttribute("role","menubar"),this.menuBarChildren=Array.from(this.list.children),this.menuBarItems=this.menuBarChildren.reduce(((t,e)=>{const[i,...s]=Array.from(e.children);let n=i;return null!==n&&n.matches("a,button")||([n]=Array.from(s).filter((t=>t.matches("a,button")))),void 0!==n&&n.matches(this.itemMatches)?[...t,n]:t}),[]),this.search=new u(this.menuBarItems),this.menuLength=this.menuBarItems.length,this.menuBarItems.forEach(((t,e)=>{t.setAttribute("role","menuitem"),t.setAttribute("aria-setsize",this.menuLength),t.setAttribute("aria-posinset",e+1),t.parentElement.setAttribute("role","presentation"),t.parentElement.addEventListener("keydown",this.menubarHandleKeydown),t.addEventListener("click",this.menubarHandleClick)}));const[t,e]=d(this.menuBarItems);Object.assign(this,{firstItem:t,lastItem:e}),this.clickEvent=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});const{popups:i,subMenus:s}=this.menuBarItems.reduce(((t,e)=>{if(!e.hasAttribute("aria-controls"))return t;const i=new c(e,{type:"menu"});i.init(),t.popups.push(i);const{target:s}=i;Object.getPrototypeOf(i).setSelfReference.call(i,e,s);const n="UL"===s.nodeName?s:s.querySelector("ul");if(null===n)return t;const r=new g(n,{itemMatches:this.itemMatches,_stateDispatchesOnly:!0,__is_application_menu:!0});return s.addEventListener("keydown",this.menuItemHandleKeydown),r.previousSibling=e,t.subMenus.push(r),t}),{popups:[],subMenus:[]});Object.assign(this,{popups:i,subMenus:s}),this.state={menubarItem:this.firstItem,popup:this.constructor.getPopupFromMenubarItem(this.firstItem)},h(this.menuBarItems,this.firstItem),this.dispatchEventInit()}stateWasUpdated(){const{menubarItem:t}=this.state;this.state.popup=this.constructor.getPopupFromMenubarItem(t),h(this.menuBarItems,t),t.focus()}menubarHandleKeydown(t){const{LEFT:e,RIGHT:i,DOWN:n,HOME:r,END:a,SPACE:o,RETURN:h}=s,{keyCode:l}=t,{menubarItem:d,popup:c}=this.state;switch(l){case e:case i:{const e=v(l,d,this.menuBarItems);e&&(t.stopPropagation(),t.preventDefault(),!1!==c&&c.getState().expanded&&c.hide(),this.setState({menubarItem:e}));break}case o:case h:case n:!1!==c&&t.target===c.controller&&(t.stopPropagation(),t.preventDefault(),c.getState().expanded||c.show(),c.firstInteractiveChild.focus());break;case r:{t.preventDefault();const[e]=this.menuBarItems;this.setState({menubarItem:e});break}case a:t.preventDefault(),this.setState({menubarItem:this.lastItem});break;default:{const t=this.search.getItem(l);null!==t&&this.setState({menubarItem:t});break}}}menubarHandleClick(t){this.setState({menubarItem:t.target})}menuItemHandleKeydown(t){const{SPACE:e,RETURN:i}=s,{keyCode:n,target:r}=t;[e,i].includes(n)&&"A"===r.nodeName&&(t.stopPropagation(),t.preventDefault(),r.dispatchEvent(this.clickEvent))}destroy(){this.deleteSelfReferences(),this.list.removeAttribute("role"),this.menuBarItems.forEach((t=>{t.parentElement.removeAttribute("role"),t.removeAttribute("aria-setsize"),t.removeAttribute("aria-posinset"),t.removeAttribute("role"),t.parentElement.removeEventListener("keydown",this.menubarHandleKeydown),t.removeEventListener("click",this.menubarHandleClick)})),a(this.menuBarItems),this.popups.forEach((t=>{t.target.removeEventListener("keydown",this.menuItemHandleKeydown),t.destroy()})),this.subMenus.forEach((t=>{t.destroy()})),this.dispatchEventDestroy()}}(T,{__is_application_menu:!0});var K=t(siteClassNames.disclosure),N=K.button,_=(K.info,document.querySelectorAll(N));Array.from(_).map((function(t){return t.addEventListener("init",e),t.addEventListener("stateChange",e),t.addEventListener("destroy",e),new b(t)}));function B(){var t=window.location.hash.replace("#",""),e=document.getElementById(t);if(null!==e&&e.disclosure instanceof b){var i=e.disclosure;i.open(),i.controller.scrollIntoView({behavior:"smooth"})}}window.addEventListener("load",B),window.addEventListener("hashchange",B);var U=t(siteClassNames.menubutton).button,R=document.querySelector(U);R.addEventListener("init",e),R.addEventListener("stateChange",e),R.addEventListener("destroy",e);new class extends c{constructor(t,e={}){super(t,{...e,type:"menu"}),this[Symbol.toStringTag]="MenuButton";Object.assign(this,{list:null,__is_application_menu:!1},e),this.__is_application_menu||this.warnMenu(),this.controllerHandleKeydown=this.controllerHandleKeydown.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.init(),super.setSelfReference(this.controller,this.target);const t={_stateDispatchesOnly:!0,__is_application_menu:!0};if(null!=this.list&&"UL"===this.list.nodeName)this.menu=new g(this.list,t);else if("UL"===this.target.nodeName)this.menu=new g(this.target,t);else{const e=this.target.querySelector("ul");this.menu=new g(e,t)}this.controller.addEventListener("keydown",this.controllerHandleKeydown),this.dispatchEventInit()}controllerHandleKeydown(t){const{keyCode:e}=t,{RETURN:i,UP:n,DOWN:r,SPACE:a}=s;if([i,a,n,r].includes(e)){t.preventDefault(),[n,r].includes(e)&&this.toggle();const{expanded:s}=this.state;s&&([i,a,r].includes(e)&&null!=this.menu.firstItem&&this.menu.firstItem.focus(),e===n&&null!=this.menu.lastItem&&this.menu.lastItem.focus())}}destroy(){super.destroy(),this.menu.destroy(),this.controller.removeEventListener("keydown",this.controllerHandleKeydown),this.dispatchEventDestroy()}}(R,{__is_application_menu:!0})})();