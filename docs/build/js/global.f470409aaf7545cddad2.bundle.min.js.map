{"version":3,"file":"js/global.f470409aaf7545cddad2.bundle.min.js","sources":["webpack:///js/global.f470409aaf7545cddad2.bundle.min.js"],"sourcesContent":["(function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&'object'==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,'default',{enumerable:!0,value:e}),2&n&&'string'!=typeof e)for(var a in e)t.d(r,a,function(t){return e[t]}.bind(null,a));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(n,'a',n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='/build/',t(t.s=6)})([function(){},function(){},function(){},function(){},function(){},function(){},function(e,t,n){'use strict';function r(e){return Object.keys(e).reduce(function(t,n){return t[n]='.'.concat(e[n]),t},{})}function a(e=36){const[,t]=Math.random().toString(e).split('.');return`id_${t}`}function i(e){null!==e&&''===e.id&&e.setAttribute('id',a())}function l(e,t){return void 0!==e&&null!==e&&e instanceof t}function o(e,t,n,r){const{next:a,previous:i}=r,l=n.indexOf(t),o=n.length-1;let d=e===i?l-1:l+1;return i===e&&0>d&&(d=o),a===e&&o<d&&(d=0),n[d]}function d(e,t,n){const{UP:r,DOWN:a}=A;return o(e,t,n,{previous:r,next:a})}function s(e,t,n){const{LEFT:r,RIGHT:a}=A;return o(e,t,n,{previous:r,next:a})}function c(e){const t=document.querySelectorAll(e.join());return e.length===t.length}function u(e){c(e)||console.warn('Some or all elements referenced by `aria-describedby` attributes are missing')}function b(e){if(Array.isArray(e))return e;let t=[];return e instanceof HTMLElement?t=Array(e):e instanceof NodeList&&(t=Array.prototype.slice.call(e,0)),t}function p(e){const t=Array.isArray(e)?e:b(e);t.forEach((e)=>{e.removeAttribute('tabindex')})}function h(e){const t=Array.isArray(e)?e:b(e);t.forEach((e)=>{e.setAttribute('tabindex','-1')})}function m(e,t){const n=Array.isArray(t)?t:b(t),r=Array.isArray(e)?e:b(e);if(p(n),0<r.length){const e=r.filter((e)=>!n.includes(e));h(e)}}n.r(t);var v=n(0),y=n(1);class g{constructor(){this.componentName='',this.state={},this.setState=this.setState.bind(this),this.getState=this.getState.bind(this),this.setSelfReference=this.setSelfReference.bind(this)}setState(e){Object.assign(this.state,e),void 0!==this.stateWasUpdated&&this.stateWasUpdated(this.state)}setSelfReference(e){[...e].forEach((e)=>{Object.defineProperty(e,this.componentName,{value:this,configurable:!0})})}getState(){return this.state}}const f=Object.freeze({TAB:9,RETURN:13,ESC:27,SPACE:32,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40});var A=f,x=function(e){const t=e.querySelectorAll('a[href],area[href],input:not([disabled]),select:not([disabled]),textarea:not([disabled]),button:not([disabled]),iframe,object,embed,[contenteditable],[tabindex]:not([tabindex^=\"-\"])');return Array.prototype.slice.call(t)};class E extends g{constructor(e){super(e),this.componentName='popup';Object.assign(this,{controller:null,target:null,type:'true',onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}},e),this.state={expanded:!1},this.init=this.init.bind(this),this.stateWasUpdated=this.stateWasUpdated.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.controllerClickHandler=this.controllerClickHandler.bind(this),this.controllerKeyDownHandler=this.controllerKeyDownHandler.bind(this),this.targetKeyDownHandler=this.targetKeyDownHandler.bind(this),this.hideOnTabOut=this.hideOnTabOut.bind(this),this.hideOnOutsideClick=this.hideOnOutsideClick.bind(this),this.destroy=this.destroy.bind(this),null!==this.controller&&null!==this.target&&this.init()}init(){if(super.setSelfReference([this.controller,this.target]),this.interactiveChildElements=x(this.target),0<this.interactiveChildElements.length){const[e]=this.interactiveChildElements,t=this.interactiveChildElements[this.interactiveChildElements.length-1];Object.assign(this,{firstChild:e,lastChild:t})}this.controller.setAttribute('aria-haspopup',this.type),this.controller.setAttribute('aria-expanded','false'),this.controller.setAttribute('aria-controls',this.target.id),'BUTTON'!==this.controller.nodeName&&(this.controller.setAttribute('role','button'),this.controller.setAttribute('tabindex','0')),this.target!==this.controller.nextElementSibling&&this.controller.setAttribute('aria-owns',this.target.id),this.target.setAttribute('aria-hidden','true'),this.controller.addEventListener('click',this.controllerClickHandler),this.controller.addEventListener('keydown',this.controllerKeyDownHandler),this.target.addEventListener('keydown',this.targetKeyDownHandler),document.body.addEventListener('click',this.hideOnOutsideClick),this.onInit.call(this)}stateWasUpdated({expanded:e}){this.controller.setAttribute('aria-expanded',`${e}`),e?this.target.removeAttribute('aria-hidden'):this.target.setAttribute('aria-hidden','true'),this.onStateChange.call(this,this.state)}controllerKeyDownHandler(e){const{expanded:t}=this.state,{ESC:n,TAB:r,SPACE:a,RETURN:i}=A,{keyCode:l}=e;[a,i].includes(l)?this.controllerClickHandler(e):t&&(n===l?(e.preventDefault(),this.hide()):r===l&&(e.preventDefault(),this.firstChild.focus()))}targetKeyDownHandler(e){const{ESC:t,TAB:n}=A,{keyCode:r,shiftKey:a}=e,{expanded:i}=this.state,{activeElement:l}=document;t===r&&i?(e.preventDefault(),this.hide(),this.controller.focus()):n===r&&(a&&[this.firstChild,this.target].includes(l)?(e.preventDefault(),this.controller.focus()):this.lastChild===l&&this.hide())}controllerClickHandler(e){e.preventDefault();const{expanded:t}=this.state;this.setState({expanded:!t})}hideOnTabOut(e){const{expanded:t}=this.state,{TAB:n}=A,{keyCode:r,shiftKey:a}=e;n===r&&!a&&t&&this.hide()}hideOnOutsideClick(e){const{expanded:t}=this.state,{target:n}=e;t&&n!==this.controller&&!this.target.contains(n)&&this.hide()}destroy(){delete this.controller.popup,delete this.target.popup,this.controller.removeAttribute('aria-haspopup'),this.controller.removeAttribute('aria-expanded'),this.controller.removeAttribute('aria-controls'),this.controller.removeAttribute('aria-owns'),this.target.removeAttribute('aria-hidden'),this.controller.removeEventListener('click',this.controllerClickHandler),this.controller.removeEventListener('keydown',this.controllerKeyDownHandler),this.target.removeEventListener('keydown',this.targetKeyDownHandler),document.body.removeEventListener('click',this.hideOnOutsideClick),this.state={expanded:!1},this.onDestroy.call(this)}show(){this.setState({expanded:!0})}hide(){this.setState({expanded:!1})}}class C extends g{static getHelpIds(){return['#ac-describe-submenu-help','#ac-describe-esc-help','#ac-describe-submenu-explore','#ac-describe-submenu-back']}static nextElementIsUl(e){const t=e.nextElementSibling;return!(null===t||'UL'!==t.nodeName)&&t}constructor(e){super(e),this.componentName='menu';Object.assign(this,{menu:null,onInit:()=>{},onDestroy:()=>{}},e),this.handleListKeydown=this.handleListKeydown.bind(this),this.destroy=this.destroy.bind(this),(null!==this.menu||'UL'!==this.menu.nodeName)&&this.init()}init(){super.setSelfReference([this.menu]),this.menu.setAttribute('role','menu'),this.listItems=Array.prototype.slice.call(this.menu.children),this.menuItems=this.listItems.reduce((e,t)=>{const n=t.firstElementChild;return null!==n&&'A'===n.nodeName?[...e,n]:e},[]),this.menuItemsLength=this.menuItems.length,this.menu.addEventListener('keydown',this.handleListKeydown),u(C.getHelpIds()),this.menuItems.forEach((e,t)=>{e.setAttribute('aria-describedby','menu-class-submenu-explore menu-class-submenu-help menu-class-submenu-back menu-class-esc-help'),e.setAttribute('aria-setsize',this.menuItemsLength),e.setAttribute('aria-posinset',t+1);const n=this.constructor.nextElementIsUl(e);if(n){const t=new C({menu:n});t.previousSibling=e}});const[e]=this.menuItems;Object.assign(this,{firstItem:e}),this.onInit.call(this)}handleListKeydown(e){const{keyCode:t}=e,{UP:n,DOWN:r,LEFT:a,RIGHT:i}=A,{activeElement:o}=document,s=this.menu.contains(o)?o:this.menuItems[0];switch(t){case n:case r:{const n=d(t,s,this.menuItems);n&&(e.stopPropagation(),e.preventDefault(),n.focus());break}case i:{const t=this.constructor.nextElementIsUl(s);if(t&&l(t.menu,C)){e.stopPropagation(),e.preventDefault();const{menu:n}=t;n.firstItem.focus()}break}case a:{void 0!==this.previousSibling&&(e.stopPropagation(),e.preventDefault(),this.previousSibling.focus());break}default:}}destroy(){delete this.menu.menu,this.menuItems.forEach((e)=>{e.removeAttribute('aria-describedby'),e.removeAttribute('aria-setsize'),e.removeAttribute('aria-posinset'),e.removeEventListener('keydown',this.handleListKeydown);const t=this.constructor.nextElementIsUl(e);t&&l(t.menu,C)&&t.menu.destroy()}),this.onDestroy.call(this)}}var S=n(2),k=r(siteClassNames.popup),w=k.button,I=k.info,D=document.querySelector(w),T=document.querySelector(I),L=new E({controller:D,target:T}),O=n(3),K=r(siteClassNames.tablist),N=K.list,U=K.panel,H=document.querySelector(N),P=document.querySelectorAll(U),R=new class extends g{constructor(e){if(super(),'UL'===e.tablist.nodeName){this.componentName='tablist';Object.assign(this,{tablist:null,panels:null,onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}},e),this.state={activeIndex:0},this.handleTabKeydown=this.handleTabKeydown.bind(this),this.handleTabsKeydown=this.handleTabsKeydown.bind(this),this.handleTabsClick=this.handleTabsClick.bind(this),this.switchTo=this.switchTo.bind(this),this.destroy=this.destroy.bind(this),Array.isArray(this.panels)||(this.panels=Array.prototype.slice.call(this.panels)),this.tabs=Array.prototype.filter.call(this.tablist.children,(e)=>null!==e.querySelector('a[href]')).map((e)=>e.querySelector('a[href]')),this.tabs.length===this.panels.length&&this.init()}}init(){const{activeIndex:e}=this.state;this.tablist.setAttribute('role','tablist'),Array.prototype.forEach.call(this.tablist.children,(e)=>{'LI'===e.nodeName&&e.setAttribute('role','presentation')}),this.tabs.forEach((t,n)=>{super.setSelfReference([t]),i(t),t.setAttribute('role','tab'),e===n?t.setAttribute('aria-selected','true'):t.setAttribute('tabindex','-1')}),this.tablist.addEventListener('click',this.handleTabsClick),this.tablist.addEventListener('keydown',this.handleTabsKeydown),this.panels.forEach((t,n)=>{super.setSelfReference([t]),i(t),t.setAttribute('role','tabpanel'),t.setAttribute('aria-labelledby',this.tabs[n].id),e!==n&&t.setAttribute('aria-hidden','true'),t.addEventListener('keydown',this.handleTabKeydown)}),this.interactiveChildren=x(this.panels[e]),this.onInit.call(this)}stateWasUpdated({activeIndex:e}){const[t]=this.tabs.filter((e)=>'true'===e.getAttribute('aria-selected')),n=this.tabs.indexOf(t);t.setAttribute('tabindex','-1'),t.removeAttribute('aria-selected'),this.panels[n].setAttribute('aria-hidden','true');const r=x(this.panels[n]);h(r),this.tabs[e].removeAttribute('tabindex'),this.tabs[e].setAttribute('aria-selected','true'),this.panels[e].removeAttribute('aria-hidden'),this.interactiveChildren=x(this.panels[e]),p(this.interactiveChildren),this.onStateChange.call(this,this.state)}handleTabKeydown(e){const{TAB:t}=A,{activeIndex:n}=this.state,{keyCode:r,shiftKey:a}=e,{activeElement:i}=document;if(r===t&&a){const t=this.interactiveChildren.indexOf(i),r=this.panels[n].getAttribute('aria-labelledby'),a=document.getElementById(r);0===t&&null!==a&&(e.preventDefault(),a.focus())}}handleTabsKeydown(e){const{TAB:t,LEFT:n,RIGHT:r,DOWN:a}=A,{keyCode:i,shiftKey:l,target:o}=e,d=this.tabs.indexOf(o),s=0<this.interactiveChildren.length;switch(i){case t:{!l&&s&&(e.preventDefault(),this.interactiveChildren[0].focus());break}case n:case r:{const t=n===i?d-1:d+1;void 0!==this.tabs[t]&&(e.preventDefault(),this.switchTo(t),this.tabs[t].focus());break}case a:{e.preventDefault(),this.panels[d].setAttribute('tabindex','0'),this.panels[d].focus();break}default:}}handleTabsClick(e){const{target:t}=e;if(e.preventDefault(),'true'!==t.getAttribute('aria-selected')){const e=this.tabs.indexOf(t);this.switchTo(e)}}switchTo(e){this.setState({activeIndex:e})}destroy(){this.tablist.removeAttribute('role'),Array.prototype.forEach.call(this.tablist.children,(e)=>{'LI'===e.nodeName&&e.removeAttribute('role')}),this.tabs.forEach((e)=>{delete e.tablist,e.removeAttribute('role'),e.removeAttribute('aria-selected'),e.removeAttribute('tabindex'),e.removeEventListener('click',this.handleTabsClick),e.removeEventListener('keydown',this.handleTabsKeydown)}),this.panels.forEach((e)=>{delete e.tablist,e.removeAttribute('role'),e.removeAttribute('aria-hidden');const t=x(e);p(t),e.removeEventListener('keydown',this.handleTabKeydown)}),this.onDestroy.call(this)}}({tablist:H,panels:P}),W=n(4),B=r(siteClassNames.listbox),q=B.button,M=B.list,_=document.querySelector(q),F=document.querySelector(M),G=new class extends g{constructor(e){super(e),this.componentName='listbox';Object.assign(this,{controller:null,target:null,onInit:()=>{},onStateChange:()=>{},onDestroy:()=>{}},e),this.searchString='',this.handleControllerKeyup=this.handleControllerKeyup.bind(this),this.handleTargetKeydown=this.handleTargetKeydown.bind(this),this.handleTargetClicks=this.handleTargetClicks.bind(this),this.handleTargetBlur=this.handleTargetBlur.bind(this),this.typeAhead=this.typeAhead.bind(this),this.clearSearchString=this.clearSearchString.bind(this),this.scrollOptionIntoView=this.scrollOptionIntoView.bind(this),this.popupStateWasUpdated=this.popupStateWasUpdated.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.destroy=this.destroy.bind(this),this.init()}init(){super.setSelfReference([this.controller,this.target]),this.options=Array.prototype.slice.call(this.target.children,0),this.options.forEach((e)=>{i(e),e.setAttribute('role','option')});const[e]=this.options,t=this.options[this.options.length-1];Object.assign(this,{firstOption:e,lastOption:t}),this.state={activeDescendant:this.firstOption},this.popup=new E({controller:this.controller,target:this.target,type:'listbox',onStateChange:this.popupStateWasUpdated}),this.target.setAttribute('role','listbox'),this.target.setAttribute('tabindex','0'),this.controller.addEventListener('keyup',this.handleControllerKeyup),this.target.addEventListener('keydown',this.handleTargetKeydown),this.target.addEventListener('click',this.handleTargetClicks),this.target.addEventListener('blur',this.handleTargetBlur),window.addEventListener('keydown',(e)=>{const{UP:t,DOWN:n}=A,{target:r,keyCode:a}=e;r===this.controller&&[t,n].includes(a)&&e.preventDefault()}),this.onInit.call(this)}stateWasUpdated({activeDescendant:e}){const t=this.target.querySelector('[aria-selected=\"true\"]');null!==t&&t.removeAttribute('aria-selected'),e.setAttribute('aria-selected','true'),this.target.setAttribute('aria-activedescendant',e.id),this.scrollOptionIntoView(e),this.onStateChange.call(this,this.state)}popupStateWasUpdated({expanded:e}){const{activeDescendant:t}=this.state;e?(this.setState({activeDescendant:t}),this.target.focus()):(this.target.removeAttribute('aria-activedescendant'),this.controller.textContent=t.textContent,this.target.contains(document.activeElement)&&this.controller.focus())}handleControllerKeyup(e){const{UP:t,DOWN:n}=A;[t,n].includes(e.keyCode)&&(e.preventDefault(),this.show())}handleTargetKeydown(e){const{activeDescendant:t}=this.state,{keyCode:n}=e,{RETURN:r,ESC:a,UP:i,DOWN:l,SPACE:o,HOME:d,END:s}=A;switch(n){case a:case r:case o:{e.preventDefault(),this.hide(),this.controller.focus();break}case i:case l:{let r=t;r=n===i?r.previousElementSibling:r.nextElementSibling,r&&(e.preventDefault(),this.setState({activeDescendant:r}));break}case d:{e.preventDefault(),this.setState({activeDescendant:this.firstOption});break}case s:{e.preventDefault(),this.setState({activeDescendant:this.lastOption});break}default:{const e=this.typeAhead(n);null!==e&&this.setState({activeDescendant:e});break}}}handleTargetClicks(e){this.setState({activeDescendant:e.target}),this.hide()}handleTargetBlur(e){this.popup.getState().expanded&&(this.setState({activeDescendant:e.target}),this.hide())}scrollOptionIntoView(e){const{scrollHeight:t,clientHeight:n,scrollTop:r}=this.target,{offsetTop:a,offsetHeight:i}=e;if(t>n){const e=a+i;e>n+r?this.target.scrollTop=e-n:a<r&&(this.target.scrollTop=a)}}typeAhead(e){const t=String.fromCharCode(e);this.searchString+=t,this.clearSearchString();const n=Array.prototype.slice.call(this.options).filter((e)=>{const t=e.textContent.toLowerCase();return 0===t.indexOf(this.searchString.toLowerCase())});return n.length?n[0]:null}clearSearchString(){this.keyClear&&(clearTimeout(this.keyClear),this.keyClear=null),this.keyClear=setTimeout(()=>{this.searchString='',this.keyClear=null},500)}destroy(){delete this.controller.listbox,delete this.target.listbox,this.options.forEach((e)=>{e.removeAttribute('role')}),this.popup.destroy(),this.target.removeAttribute('role'),this.target.removeAttribute('tabindex'),this.controller.removeEventListener('keyup',this.handleControllerKeyup),this.target.removeEventListener('keydown',this.handleTargetKeydown),this.target.removeEventListener('click',this.handleTargetClicks),this.target.removeEventListener('blur',this.handleTargetBlur),window.addEventListener('keydown',(e)=>{const{UP:t,DOWN:n}=A,{target:r,keyCode:a}=e;r===this.controller&&[t,n].includes(a)&&e.preventDefault()}),this.onDestroy.call(this)}show(){this.popup.show()}hide(){this.popup.hide()}}({controller:_,target:F}),j=n(5),z=r(siteClassNames.menu),V=z.list,Q=document.querySelector(V),X=new C({menu:Q})}]);"],"mappings":"AAAA","sourceRoot":""}